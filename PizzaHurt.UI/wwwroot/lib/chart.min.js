/*!
 * Chart.js v4.4.5
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).Chart=t()}(this,function(){"use strict";function ft(){}function i(n){return null==n}function f(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function t(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function h(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function b(n,t){return h(n)?n:t}function n(n,t){return void 0===n?t:n}function u(n,t,i){if(n&&"function"==typeof n.call)return n.apply(i,t)}function r(n,i,r,u){let e,o,s;if(f(n))if(o=n.length,u)for(e=o-1;e>=0;e--)i.call(r,n[e],e);else for(e=0;e<o;e++)i.call(r,n[e],e);else if(t(n))for(s=Object.keys(n),o=s.length,e=0;e<o;e++)i.call(r,n[s[e]],s[e])}function er(n,t){let i,f,r,u;if(!n||!t||n.length!==t.length)return!1;for(i=0,f=n.length;i<f;++i)if(r=n[i],u=t[i],r.datasetIndex!==u.datasetIndex||r.index!==u.index)return!1;return!0}function or(n){if(f(n))return n.map(or);if(t(n)){const r=Object.create(null),i=Object.keys(n),u=i.length;let t=0;for(;t<u;++t)r[i[t]]=or(n[i[t]]);return r}return n}function rh(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function uh(n,i,r,u){if(rh(n)){const e=i[n],f=r[n];t(e)&&t(f)?yi(e,f,u):i[n]=or(f)}}function yi(n,i,r){const e=f(i)?i:[i],o=e.length;if(!t(n))return n;const s=(r=r||{}).merger||uh;let u;for(let i=0;i<o;++i)if(u=e[i],t(u)){const f=Object.keys(u);for(let t=0,i=f.length;t<i;++t)s(f[t],n,u,r)}return n}function pi(n,t){return yi(n,t,{merger:fh})}function fh(n,i,r){if(rh(n)){const f=i[n],u=r[n];t(f)&&t(u)?pi(f,u):Object.prototype.hasOwnProperty.call(i,n)||(i[n]=or(u))}}function oh(n){const r=n.split("."),i=[];let t="";for(const n of r)t+=n,t.endsWith("\\")?t=t.slice(0,-1)+".":(i.push(t),t="");return i}function lt(n,t){const i=eh[t]||(eh[t]=function(n){const t=oh(n);return n=>{for(const i of t){if(""===i)break;n=n&&n[i]}return n}}(t));return i(n)}function uu(n){return n.charAt(0).toUpperCase()+n.slice(1)}function sh(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}function bi(n,t,i){return Math.abs(n-t)<i}function ue(n){const i=Math.round(n);n=bi(n,i,n/1e3)?i:n;const r=Math.pow(10,Math.floor(vt(n))),t=n/r;return(t<=1?1:t<=2?2:t<=5?5:10)*r}function lh(n){const i=[],r=Math.sqrt(n);let t;for(t=1;t<r;t++)n%t==0&&(i.push(t),i.push(n/t));return r===(0|r)&&i.push(r),i.sort((n,t)=>n-t).pop(),i}function ei(n){return!isNaN(parseFloat(n))&&isFinite(n)}function ah(n,t){const i=Math.round(n);return i-t<=n&&i+t>=n}function fe(n,t,i){let r,f,u;for(r=0,f=n.length;r<f;r++)u=n[r][i],isNaN(u)||(t.min=Math.min(t.min,u),t.max=Math.max(t.max,u))}function nt(n){return n*(e/180)}function fu(n){return n*(180/e)}function ee(n){if(h(n)){let t=1,i=0;for(;Math.round(n*t)/t!==n;)t*=10,i++;return i}}function oe(n,t){const i=t.x-n.x,r=t.y-n.y,f=Math.sqrt(i*i+r*r);let u=Math.atan2(r,i);return u<-.5*e&&(u+=o),{angle:u,distance:f}}function eu(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function vh(n,t){return(n-t+hh)%o-e}function k(n){return(n%o+o)%o}function ki(n,t,i,r){const u=k(n),f=k(t),e=k(i),o=k(f-u),s=k(e-u),h=k(u-f),c=k(u-e);return u===f||u===e||r&&f===e||o>s&&h<c}function v(n,t,i){return Math.max(t,Math.min(i,n))}function yh(n){return v(n,-32768,32767)}function et(n,t,i,r=1e-6){return n>=Math.min(t,i)-r&&n<=Math.max(t,i)+r}function ou(n,t,i){i=i||(i=>n[i]<t);let r,u=n.length-1,f=0;for(;u-f>1;)r=f+u>>1,i(r)?f=r:u=r;return{lo:f,hi:u}}function wh(n,t,i){let r=0,u=n.length;for(;r<u&&n[r]<t;)r++;for(;u>r&&n[u-1]>i;)u--;return r>0||u<n.length?n.slice(r,u):n}function kh(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),bh.forEach(t=>{const i="_onData"+uu(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...t){const u=r.apply(this,t);return n._chartjs.listeners.forEach(n=>{"function"==typeof n[i]&&n[i](...t)}),u}})}))}function se(n,t){const r=n._chartjs;if(r){const i=r.listeners,u=i.indexOf(t);-1!==u&&i.splice(u,1);i.length>0||(bh.forEach(t=>{delete n[t]}),delete n._chartjs)}}function he(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}function le(n,t){let r=[],i=!1;return function(...u){r=u;i||(i=!0,ce.call(window,()=>{i=!1,n.apply(t,r)}))}}function dh(n,t){let i;return function(...r){return t?(clearTimeout(i),i=setTimeout(n,t,r)):n.apply(this,r),t}}function ae(n,t,i){const r=t.length;let u=0,f=r;if(n._sorted){const{iScale:e,_parsed:s}=n,o=e.axis,{min:h,max:c,minDefined:l,maxDefined:a}=e.getUserBounds();l&&(u=v(Math.min(ot(s,o,h).lo,i?r:ot(t,o,e.getPixelForValue(h)).lo),0,r-1));f=a?v(Math.max(ot(s,e.axis,c,!0).hi+1,i?0:ot(t,o,e.getPixelForValue(c),!0).hi+1),u,r)-u:r-u}return{start:u,count:f}}function ve(n){const{xScale:i,yScale:r,_scaleRanges:t}=n,u={xmin:i.min,xmax:i.max,ymin:r.min,ymax:r.max};if(!t)return n._scaleRanges=u,!0;const f=t.xmin!==i.min||t.xmax!==i.max||t.ymin!==r.min||t.ymax!==r.max;return Object.assign(t,u),f}function hr(n){return n+.5|0}function cr(n){return dt(hr(2.55*n),0,255)}function gt(n){return dt(hr(255*n),0,255)}function yt(n){return dt(hr(n/2.55)/100,0,1)}function nc(n){return dt(hr(100*n),0,100)}function rw(n){var t=(n=>hu(n.r)&&hu(n.g)&&hu(n.b)&&hu(n.a))(n)?tw:iw;if(n)return"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t)}function tc(n,t,i){const u=t*Math.min(i,1-i),r=(t,r=(t+n/30)%12)=>i-u*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function fw(n,t,i){const r=(r,u=(r+n/60)%6)=>i-i*t*Math.max(Math.min(u,4-u,1),0);return[r(5),r(3),r(1)]}function ew(n,t,i){const u=tc(n,1,.5);let r;for(t+i>1&&(r=1/(t+i),t*=r,i*=r),r=0;r<3;r++)u[r]*=1-t-i,u[r]+=t;return u}function pe(n){const f=n.r/255,e=n.g/255,o=n.b/255,t=Math.max(f,e,o),i=Math.min(f,e,o),s=(t+i)/2;let r,h,u;return t!==i&&(u=t-i,h=s>.5?u/(2-t-i):u/(t+i),r=function(n,t,i,r,u){return n===u?(t-i)/r+(t<i?6:0):t===u?(i-n)/r+2:(n-t)/r+4}(f,e,o,u,t),r=60*r+.5),[0|r,h||0,s]}function we(n,t,i,r){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,i,r)).map(gt)}function be(n,t,i){return we(tc,n,t,i)}function ic(n){return(n%360+360)%360}function ow(n){const t=uw.exec(n);let i,e=255;if(t){t[5]!==i&&(e=t[6]?cr(+t[5]):gt(+t[5]));const r=ic(+t[2]),u=+t[3]/100,f=+t[4]/100;return i="hwb"===t[1]?function(n,t,i){return we(ew,n,t,i)}(r,u,f):"hsv"===t[1]?function(n,t,i){return we(fw,n,t,i)}(r,u,f):be(r,u,f),{r:i[0],g:i[1],b:i[2],a:e}}}function sw(n){cu||(cu=function(){const u={},f=Object.keys(uc),e=Object.keys(rc);let t,i,n,o,r;for(t=0;t<f.length;t++){for(o=r=f[t],i=0;i<e.length;i++)n=e[i],r=r.replace(n,rc[n]);n=parseInt(uc[o],16);u[r]=[n>>16&255,n>>8&255,255&n]}return u}(),cu.transparent=[0,0,0,0]);const t=cu[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}function lu(n,t,i){if(n){let r=pe(n);r[t]=Math.max(0,Math.min(r[t]+r[t]*i,0===t?360:1));r=be(r);n.r=r[0];n.g=r[1];n.b=r[2]}}function fc(n,t){return n?Object.assign(t||{},n):n}function ec(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=gt(n[3]))):(t=fc(n,{r:0,g:0,b:0,a:1})).a=gt(t.a),t}function cw(n){return"r"===n.charAt(0)?function(n){const t=hw.exec(n);let i,r,u,f=255;if(t){if(t[7]!==i){const n=+t[7];f=t[8]?cr(n):dt(255*n,0,255)}return i=+t[1],r=+t[3],u=+t[5],i=255&(t[2]?cr(i):dt(i,0,255)),r=255&(t[4]?cr(r):dt(r,0,255)),u=255&(t[6]?cr(u):dt(u,0,255)),{r:i,g:r,b:u,a:f}}}(n):ow(n)}function vu(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function de(n){return vu(n)?n:new au(n)}function yu(n){return vu(n)?n:new au(n).saturate(.5).darken(.1).hexString()}function gi(n,t,i){return function(n,t){t=t||{};const r=n+JSON.stringify(t);let i=oc.get(r);return i||(i=new Intl.NumberFormat(n,t),oc.set(r,i)),i}(t,i).format(n)}function lr(n,t){if(!t)return n;const i=t.split(".");for(let t=0,r=i.length;t<r;++t){const r=i[t];n=n[r]||(n[r]=Object.create(null))}return n}function no(n,t,i){return"string"==typeof t?yi(lr(n,t),i):yi(lr(n,""),t)}function pu(){return"undefined"!=typeof window&&"undefined"!=typeof document}function wu(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function bu(n,t,i){let r;return"string"==typeof n?(r=parseInt(n,10),-1!==n.indexOf("%")&&(r=r/100*t.parentNode[i])):r=n,r}function hc(n,t){return ku(n).getPropertyValue(t)}function si(n,t,i){const r={};i=i?"-"+i:"";for(let u=0;u<4;u++){const f=yw[u];r[f]=parseFloat(n[t+"-"+f+i])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function ni(n,t){if("native"in n)return n;const{canvas:i,currentDevicePixelRatio:e}=t,f=ku(i),c="border-box"===f.boxSizing,r=si(f,"padding"),u=si(f,"border","width"),{x:l,y:a,box:o}=function(n,t){const i=n.touches,r=i&&i.length?i[0]:n,{offsetX:e,offsetY:o}=r;let u,f,s=!1;if(pw(e,o,n.target))u=e,f=o;else{const n=t.getBoundingClientRect();u=r.clientX-n.left;f=r.clientY-n.top;s=!0}return{x:u,y:f,box:s}}(n,i),v=r.left+(o&&u.left),y=r.top+(o&&u.top);let{width:s,height:h}=t;return c&&(s-=r.width+u.width,h-=r.height+u.height),{x:Math.round((l-v)/s*i.width/e),y:Math.round((a-y)/h*i.height/e)}}function cc(n,t,i,r){const e=ku(n),s=si(e,"margin"),h=bu(e.maxWidth,n,"clientWidth")||sr,c=bu(e.maxHeight,n,"clientHeight")||sr,o=function(n,t,i){let r,u;if(void 0===t||void 0===i){const f=n&&wu(n);if(f){const e=f.getBoundingClientRect(),n=ku(f),o=si(n,"border","width"),s=si(n,"padding");t=e.width-s.width-o.width;i=e.height-s.height-o.height;r=bu(n.maxWidth,f,"clientWidth");u=bu(n.maxHeight,f,"clientHeight")}else t=n.clientWidth,i=n.clientHeight}return{width:t,height:i,maxWidth:r||sr,maxHeight:u||sr}}(n,t,i);let{width:f,height:u}=o;if("content-box"===e.boxSizing){const n=si(e,"border","width"),t=si(e,"padding");f-=t.width+n.width;u-=t.height+n.height}return f=Math.max(0,f-s.width),u=Math.max(0,r?f/r:u-s.height),f=du(Math.min(f,h,o.maxWidth)),u=du(Math.min(u,c,o.maxHeight)),f&&!u&&(u=du(f/2)),(void 0!==t||void 0!==i)&&r&&o.height&&u>o.height&&(u=o.height,f=du(Math.floor(u*r))),{width:f,height:u}}function to(n,t,i){const u=t||1,f=Math.floor(n.height*u),e=Math.floor(n.width*u);n.height=Math.floor(n.height);n.width=Math.floor(n.width);const r=n.canvas;return r.style&&(i||!r.style.height&&!r.style.width)&&(r.style.height=`${n.height}px`,r.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==u||r.height!==f||r.width!==e)&&(n.currentDevicePixelRatio=u,r.height=f,r.width=e,n.ctx.setTransform(u,0,0,u,0,0),!0)}function io(n,t){const i=hc(n,t),r=i&&i.match(/^(\d+)(\.\d+)?px$/);if(r)return+r[1]}function ac(n){return!n||i(n.size)||i(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ar(n,t,i,r,u){let f=t[u];return f||(f=t[u]=n.measureText(u).width,i.push(u)),f>r&&(r=f),r}function vc(n,t,i,r){let h=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(h=r.data={},o=r.garbageCollect=[],r.font=t);n.save();n.font=t;let s=0;const y=i.length;let u,c,v,e,l;for(u=0;u<y;u++)if(e=i[u],null==e||f(e)){if(f(e))for(c=0,v=e.length;c<v;c++)l=e[c],null==l||f(l)||(s=ar(n,h,o,s,l))}else s=ar(n,h,o,s,e);n.restore();const a=o.length/2;if(a>i.length){for(u=0;u<a;u++)delete h[o[u]];o.splice(0,a)}return s}function ti(n,t,i){const r=n.currentDevicePixelRatio,u=0!==i?Math.max(i/2,.5):0;return Math.round((t-u)*r)/r+u}function ro(n,t){(t||n)&&((t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function gu(n,t,i,r){uo(n,t,i,r,null)}function uo(n,t,i,r,u){let k,h,l,y,w,b,a,v;const p=t.pointStyle,d=t.rotation,s=t.radius;let f=(d||0)*ch;if(p&&"object"==typeof p&&(k=p.toString(),"[object HTMLImageElement]"===k||"[object HTMLCanvasElement]"===k))return n.save(),n.translate(i,r),n.rotate(f),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void n.restore();if(!(isNaN(s)||s<=0)){switch(n.beginPath(),p){default:u?n.ellipse(i,r,u/2,s,0,0,o):n.arc(i,r,s,0,o);n.closePath();break;case"triangle":b=u?u/2:s;n.moveTo(i+Math.sin(f)*b,r-Math.cos(f)*s);f+=re;n.lineTo(i+Math.sin(f)*b,r-Math.cos(f)*s);f+=re;n.lineTo(i+Math.sin(f)*b,r-Math.cos(f)*s);n.closePath();break;case"rectRounded":w=.516*s;y=s-w;h=Math.cos(f+kt)*y;a=Math.cos(f+kt)*(u?u/2-w:y);l=Math.sin(f+kt)*y;v=Math.sin(f+kt)*(u?u/2-w:y);n.arc(i-a,r-l,w,f-e,f-c);n.arc(i+v,r-h,w,f-c,f);n.arc(i+a,r+l,w,f,f+c);n.arc(i-v,r+h,w,f+c,f+e);n.closePath();break;case"rect":if(!d){y=Math.SQRT1_2*s;b=u?u/2:y;n.rect(i-b,r-y,2*b,2*y);break}f+=kt;case"rectRot":a=Math.cos(f)*(u?u/2:s);h=Math.cos(f)*s;l=Math.sin(f)*s;v=Math.sin(f)*(u?u/2:s);n.moveTo(i-a,r-l);n.lineTo(i+v,r-h);n.lineTo(i+a,r+l);n.lineTo(i-v,r+h);n.closePath();break;case"crossRot":f+=kt;case"cross":a=Math.cos(f)*(u?u/2:s);h=Math.cos(f)*s;l=Math.sin(f)*s;v=Math.sin(f)*(u?u/2:s);n.moveTo(i-a,r-l);n.lineTo(i+a,r+l);n.moveTo(i+v,r-h);n.lineTo(i-v,r+h);break;case"star":a=Math.cos(f)*(u?u/2:s);h=Math.cos(f)*s;l=Math.sin(f)*s;v=Math.sin(f)*(u?u/2:s);n.moveTo(i-a,r-l);n.lineTo(i+a,r+l);n.moveTo(i+v,r-h);n.lineTo(i-v,r+h);f+=kt;a=Math.cos(f)*(u?u/2:s);h=Math.cos(f)*s;l=Math.sin(f)*s;v=Math.sin(f)*(u?u/2:s);n.moveTo(i-a,r-l);n.lineTo(i+a,r+l);n.moveTo(i+v,r-h);n.lineTo(i-v,r+h);break;case"line":h=u?u/2:Math.cos(f)*s;l=Math.sin(f)*s;n.moveTo(i-h,r-l);n.lineTo(i+h,r+l);break;case"dash":n.moveTo(i,r);n.lineTo(i+Math.cos(f)*(u?u/2:s),r+Math.sin(f)*s);break;case!1:n.closePath()}n.fill();t.borderWidth>0&&n.stroke()}}function st(n,t,i){return i=i||.5,!t||n&&n.x>t.left-i&&n.x<t.right+i&&n.y>t.top-i&&n.y<t.bottom+i}function vr(n,t){n.save();n.beginPath();n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top);n.clip()}function yr(n){n.restore()}function yc(n,t,i,r,u){if(!t)return n.lineTo(i.x,i.y);if("middle"===u){const r=(t.x+i.x)/2;n.lineTo(r,t.y);n.lineTo(r,i.y)}else"after"===u!=!!r?n.lineTo(t.x,i.y):n.lineTo(i.x,t.y);n.lineTo(i.x,i.y)}function pc(n,t,i,r){if(!t)return n.lineTo(i.x,i.y);n.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?i.cp2x:i.cp1x,r?i.cp2y:i.cp1y,i.x,i.y)}function ww(n,t,i,r,u){if(u.strikethrough||u.underline){const f=n.measureText(r),s=t-f.actualBoundingBoxLeft,h=t+f.actualBoundingBoxRight,c=i-f.actualBoundingBoxAscent,e=i+f.actualBoundingBoxDescent,o=u.strikethrough?(c+e)/2:e;n.strokeStyle=n.fillStyle;n.beginPath();n.lineWidth=u.decorationWidth||2;n.moveTo(s,o);n.lineTo(h,o);n.stroke()}}function bw(n,t){const i=n.fillStyle;n.fillStyle=t.color;n.fillRect(t.left,t.top,t.width,t.height);n.fillStyle=i}function ii(n,t,r,u,e,o={}){const c=f(t)?t:[t],l=o.strokeWidth>0&&""!==o.strokeColor;let s,h;for(n.save(),n.font=e.string,function(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]);i(t.rotation)||n.rotate(t.rotation);t.color&&(n.fillStyle=t.color);t.textAlign&&(n.textAlign=t.textAlign);t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,o),s=0;s<c.length;++s)h=c[s],o.backdrop&&bw(n,o.backdrop),l&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),i(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(h,r,u,o.maxWidth)),n.fillText(h,r,u,o.maxWidth),ww(n,r,u,h,o),u+=Number(e.lineHeight);n.restore()}function tr(n,t){const{x:r,y:u,w:f,h:o,radius:i}=t;n.arc(r+i.topLeft,u+i.topLeft,i.topLeft,1.5*e,e,!0);n.lineTo(r,u+o-i.bottomLeft);n.arc(r+i.bottomLeft,u+o-i.bottomLeft,i.bottomLeft,e,c,!0);n.lineTo(r+f-i.bottomRight,u+o);n.arc(r+f-i.bottomRight,u+o-i.bottomRight,i.bottomRight,c,0,!0);n.lineTo(r+f,u+i.topRight);n.arc(r+f-i.topRight,u+i.topRight,i.topRight,0,-c,!0);n.lineTo(r+i.topLeft,u)}function nf(n,t=[""],i,r,u=(()=>n[0])){const f=i||n;void 0===r&&(r=dc("_fallback",n));const e={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:f,_fallback:r,_getTarget:u,override:i=>nf([i,...n],t,f,r)};return new Proxy(e,{deleteProperty:(t,i)=>(delete t[i],delete t._keys,delete n[0][i],!0),get:(i,r)=>wc(i,r,()=>function(n,t,i,r){let u;for(const f of t)if(u=dc(kw(f,n),i),void 0!==u)return eo(n,u)?oo(i,r,n,u):u}(r,t,n,i)),getOwnPropertyDescriptor:(n,t)=>Reflect.getOwnPropertyDescriptor(n._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(n,t)=>gc(n).includes(t),ownKeys:n=>gc(n),set(n,t,i){const r=n._storage||(n._storage=u());return n[t]=r[t]=i,delete n._keys,!0}})}function hi(n,i,r,u){const e={_cacheable:!1,_proxy:n,_context:i,_subProxy:r,_stack:new Set,_descriptors:fo(n,u),setContext:t=>hi(n,t,r,u),override:t=>hi(n.override(t),i,r,u)};return new Proxy(e,{deleteProperty:(t,i)=>(delete t[i],delete n[i],!0),get:(n,i,r)=>wc(n,i,()=>function(n,i,r){const{_proxy:s,_context:h,_subProxy:o,_descriptors:e}=n;let u=s[i];return at(u)&&e.isScriptable(i)&&(u=function(n,t,i,r){const{_proxy:e,_context:o,_subProxy:s,_stack:u}=i;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,s||r);return u.delete(n),eo(n,f)&&(f=oo(e._scopes,e,n,f)),f}(i,u,n,r)),f(u)&&u.length&&(u=function(n,i,r,u){const{_proxy:e,_context:f,_subProxy:o,_descriptors:s}=r;if(void 0!==f.index&&u(n))return i[f.index%i.length];if(t(i[0])){const t=i,r=e._scopes.filter(n=>n!==t);i=[];for(const u of t){const t=oo(r,e,n,u);i.push(hi(t,f,o&&o[n],s))}}return i}(i,u,n,e.isIndexable)),eo(i,u)&&(u=hi(u,h,o&&o[i],e)),u}(n,i,r)),getOwnPropertyDescriptor:(t,i)=>t._descriptors.allKeys?Reflect.has(n,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,i),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(t,i)=>Reflect.has(n,i),ownKeys:()=>Reflect.ownKeys(n),set:(t,i,r)=>(n[i]=r,delete t[i],!0)})}function fo(n){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:at(t)?t:()=>t,isIndexable:at(i)?i:()=>i}}function wc(n,t,i){if(Object.prototype.hasOwnProperty.call(n,t)||"constructor"===t)return n[t];const r=i();return n[t]=r,r}function bc(n,t,i){return at(n)?n(t,i):n}function gw(n,t,i,r,u){for(const f of t){const t=dw(i,f);if(t){n.add(t);const f=bc(t._fallback,i,u);if(void 0!==f&&f!==i&&f!==r)return f}else if(!1===t&&void 0!==r&&i!==r)return null}return!1}function oo(n,i,r,u){const h=i._rootScopes,e=bc(i._fallback,r,u),c=[...n,...h],o=new Set;o.add(u);let s=kc(o,c,r,e||r,u);return null!==s&&(void 0===e||e===r||(s=kc(o,c,e,s,u),null!==s))&&nf(Array.from(o),[""],h,e,()=>function(n,i,r){const u=n._getTarget();i in u||(u[i]={});const e=u[i];return f(e)&&t(r)?r:e||{}}(i,r,u))}function kc(n,t,i,r,u){for(;i;)i=gw(n,t,i,r,u);return i}function dc(n,t){for(const i of t)if(i){const t=i[n];if(void 0!==t)return t}}function gc(n){let t=n._keys;return t||(t=n._keys=function(n){const t=new Set;for(const i of n)for(const n of Object.keys(i).filter(n=>!n.startsWith("_")))t.add(n);return Array.from(t)}(n._scopes)),t}function so(n,t,i,r){const{iScale:h}=n,{key:c="r"}=this._parsing,e=new Array(r);let u,o,f,s;for(u=0,o=r;u<o;++u)f=u+i,s=t[f],e[u]={r:h.parse(lt(s,c),f)};return e}function tl(n,t,i,r){const f=n.skip?t:n,u=t,e=i.skip?t:i,h=eu(u,f),c=eu(e,u);let o=h/(h+c),s=c/(h+c);o=isNaN(o)?0:o;s=isNaN(s)?0:s;const l=r*o,a=r*s;return{previous:{x:u.x-l*(e.x-f.x),y:u.y-l*(e.y-f.y)},next:{x:u.x+a*(e.x-f.x),y:u.y+a*(e.y-f.y)}}}function il(n,t="x"){const s=nl(t),e=n.length,r=Array(e).fill(0),o=Array(e);let i,h,f,u=ir(n,0);for(i=0;i<e;++i)if(h=f,f=u,u=ir(n,i+1),f){if(u){const n=u[t]-f[t];r[i]=0!==n?(u[s]-f[s])/n:0}o[i]=h?u?rt(r[i-1])!==rt(r[i])?0:(r[i-1]+r[i])/2:r[i-1]:r[i]}!function(n,t,i){const h=n.length;let r,u,f,e,s,o=ir(n,0);for(let c=0;c<h-1;++c)s=o,o=ir(n,c+1),s&&o&&(bi(t[c],0,nb)?i[c]=i[c+1]=0:(r=i[c]/t[c],u=i[c+1]/t[c],e=Math.pow(r,2)+Math.pow(u,2),e<=9||(f=3/Math.sqrt(e),i[c]=r*f*t[c],i[c+1]=u*f*t[c])))}(n,r,o),function(n,t,i="x"){const e=nl(i),s=n.length;let u,o,r,f=ir(n,0);for(let h=0;h<s;++h)if(o=r,r=f,f=ir(n,h+1),r){const s=r[i],c=r[e];o&&(u=(s-o[i])/3,r[`cp1${i}`]=s-u,r[`cp1${e}`]=c-u*t[h]);f&&(u=(f[i]-s)/3,r[`cp2${i}`]=s+u,r[`cp2${e}`]=c+u*t[h])}}(n,o,t)}function tf(n,t,i){return Math.max(Math.min(n,i),t)}function rl(n,t,i,r,u){let e,s,f,o;if(t.spanGaps&&(n=n.filter(n=>!n.skip)),"monotone"===t.cubicInterpolationMode)il(n,u);else{let i=r?n[n.length-1]:n[0];for(e=0,s=n.length;e<s;++e)f=n[e],o=tl(i,f,n[Math.min(e+1,s-(r?0:1))%s],t.tension),f.cp1x=o.previous.x,f.cp1y=o.previous.y,f.cp2x=o.next.x,f.cp2y=o.next.y,i=f}t.capBezierPoints&&function(n,t){let r,u,i,f,o,e=st(n[0],t);for(r=0,u=n.length;r<u;++r)o=f,f=e,e=r<u-1&&st(n[r+1],t),f&&(i=n[r],o&&(i.cp1x=tf(i.cp1x,t.left,t.right),i.cp1y=tf(i.cp1y,t.top,t.bottom)),e&&(i.cp2x=tf(i.cp2x,t.left,t.right),i.cp2y=tf(i.cp2y,t.top,t.bottom)))}(n,i)}function ri(n,t,i){return{x:n.x+i*(t.x-n.x),y:n.y+i*(t.y-n.y)}}function el(n,t,i,r){return{x:n.x+i*(t.x-n.x),y:"middle"===r?i<.5?n.y:t.y:"after"===r?i<1?n.y:t.y:i>0?t.y:n.y}}function ol(n,t,i){const r={x:n.cp2x,y:n.cp2y},u={x:t.cp1x,y:t.cp1y},e=ri(n,r,i),f=ri(r,u,i),o=ri(u,t,i),s=ri(e,f,i),h=ri(f,o,i);return ri(s,h,i)}function sl(n,t){const i=(""+n).match(tb);if(!i||"normal"===i[1])return 1.2*t;switch(n=+i[2],i[3]){case"px":return n;case"%":n/=100}return t*n}function uf(i,r){const u={},f=t(r),e=f?Object.keys(r):r,o=t(i)?f?t=>n(i[t],i[r[t]]):n=>i[n]:()=>i;for(const n of e)u[n]=rb(o(n));return u}function ho(n){return uf(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ui(n){return uf(n,["topLeft","topRight","bottomLeft","bottomRight"])}function w(n){const t=ho(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function a(t,i){t=t||{};i=i||s.font;let r=n(t.size,i.size);"string"==typeof r&&(r=parseInt(r,10));let u=n(t.style,i.style);u&&!(""+u).match(ib)&&(console.warn('Invalid font style specified: "'+u+'"'),u=void 0);const f={family:n(t.family,i.family),lineHeight:sl(n(t.lineHeight,i.lineHeight),r),size:r,style:u,weight:n(t.weight,i.weight),string:""};return f.string=ac(f),f}function ur(n,t,i,r){let e,s,u,o=!0;for(e=0,s=n.length;e<s;++e)if(u=n[e],void 0!==u&&(void 0!==t&&"function"==typeof u&&(u=u(t),o=!1),void 0!==i&&f(u)&&(u=u[i%u.length],o=!1),void 0!==u))return r&&!o&&(r.cacheable=!1),u}function hl(n,t,i){const{min:r,max:u}=n,f=te(t,(u-r)/2),e=(n,t)=>i&&0===n?0:n+t;return{min:e(r,-Math.abs(f)),max:e(u,f)}}function pt(n,t){return Object.assign(Object.create(n),t)}function ci(n,t,i){return n?function(n,t){return{x:i=>n+n+t-i,setWidth(n){t=n},textAlign:n=>"center"===n?n:"right"===n?"left":"right",xPlus:(n,t)=>n-t,leftForLtr:(n,t)=>n-t}}(t,i):{x:n=>n,setWidth(){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:n=>n}}function co(n,t){let i,r;"ltr"!==t&&"rtl"!==t||(i=n.canvas.style,r=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),n.prevTextDirection=r)}function lo(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function cl(n){return"angle"===n?{between:ki,compare:vh,normalize:k}:{between:et,compare:(n,t)=>n-t,normalize:n=>n}}function ll({start:u,end:n,count:t,loop:r,style:i}){return{start:u%t,end:n%t,loop:r&&(n-u+1)%t==0,style:i}}function ao(n,t,i){if(!i)return[n];const{property:y,start:e,end:o}=i,s=t.length,{compare:h,between:c,normalize:d}=cl(y),{start:p,end:w,loop:b,style:k}=function(n,t,i){const{property:o,start:c,end:l}=i,{between:a,normalize:v}=cl(o),r=t.length;let e,s,{start:u,end:f,loop:h}=n;if(h){for(u+=r,f+=r,e=0,s=r;e<s&&a(v(t[u%r][o]),c,l);++e)u--,f--;u%=r;f%=r}return f<u&&(f+=r),{start:u,end:f,loop:h,style:n.style}}(n,t,i),l=[];let r,a,f,v=!1,u=null;const g=()=>v||c(e,f,r)&&0!==h(e,f),nt=()=>!v||0===h(o,r)||c(o,f,r);for(let n=p,i=p;n<=w;++n)a=t[n%s],a.skip||(r=d(a[y]),r!==f&&(v=c(r,e,o),null===u&&g()&&(u=0===h(r,e)?n:i),null!==u&&nt()&&(l.push(ll({start:u,end:n,loop:b,count:s,style:k})),u=null),i=n,f=r));return null!==u&&l.push(ll({start:u,end:w,loop:b,count:s,style:k})),l}function vo(n,t){const i=[],r=n.segments;for(let u=0;u<r.length;u++){const f=ao(r[u],n.points,t);f.length&&i.push(...f)}return i}function al(n,t){const i=n.points,e=n.options.spanGaps,u=i.length;if(!u)return[];const o=!!n._loop,{start:f,end:r}=function(n,t,i,r){let u=0,f=t-1;if(i&&!r)for(;u<t&&!n[u].skip;)u++;for(;u<t&&n[u].skip;)u++;for(u%=t,i&&(f+=u);f>u&&n[f%t].skip;)f--;return f%=t,{start:u,end:f}}(i,u,o,e);return!0===e?vl(n,[{start:f,end:r,loop:o}],i,t):vl(n,function(n,t,i,r){const f=n.length,o=[];let u,e=t,s=n[t];for(u=t+1;u<=i;++u){const i=n[u%f];i.skip||i.stop?s.skip||(r=!1,o.push({start:t%f,end:(u-1)%f,loop:r}),t=e=i.stop?u:null):(e=u,s.skip&&(t=u));s=i}return null!==e&&o.push({start:t%f,end:e%f,loop:r}),o}(i,f,r<f?r+u:r,!!n._fullLoop&&0===f&&r===u-1),i,t)}function vl(n,t,i,r){return r&&r.setContext&&i?function(n,t,i,r){function c(n,t,r,e){const c=s?-1:1;if(n!==t){for(n+=u;i[n%u].skip;)n-=c;for(;i[t%u].skip;)t+=c;n%u!=t%u&&(h.push({start:n%u,end:t%u,loop:r,style:e}),o=e,f=t%u)}}const l=n._chart.getContext(),a=yl(n.options),{_datasetIndex:v,options:{spanGaps:s}}=n,u=i.length,h=[];let o=a,f=t[0].start,e=f;for(const n of t){f=s?f:n.start;let t,h=i[f%u];for(e=f+1;e<=n.end;e++){const s=i[e%u];t=yl(r.setContext(pt(l,{type:"segment",p0:h,p1:s,p0DataIndex:(e-1)%u,p1DataIndex:e%u,datasetIndex:v})));ub(t,o)&&c(f,e-1,n.loop,o);h=s;o=t}f<e-1&&c(f,e-1,n.loop,o)}return h}(n,t,i,r):t}function yl(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function ub(n,t){if(!t)return!1;const i=[],r=function(n,t){return vu(t)?(i.includes(t)||i.push(t),i.indexOf(t)):t};return JSON.stringify(n,r)!==JSON.stringify(t,r)}function fb(n,t,i,r){const{controller:e,data:u,_sorted:o}=n,f=e._cachedMeta.iScale;if(f&&t===f.axis&&"r"!==t&&o&&u.length){const n=f._reversePixels?ph:ot;if(!r)return n(u,t,i);if(e._sharedOptions){const f=u[0],r="function"==typeof f.getRange&&f.getRange(t);if(r){const f=n(u,t,i-r),e=n(u,t,i+r);return{lo:f.lo,hi:e.hi}}}}return{lo:0,hi:u.length-1}}function pr(n,t,i,r,u){const f=n.getSortedVisibleDatasetMetas(),e=i[t];for(let n=0,i=f.length;n<i;++n){const{index:i,data:o}=f[n],{lo:s,hi:h}=fb(f[n],t,e,u);for(let n=s;n<=h;++n){const t=o[n];t.skip||r(t,i,n)}}}function yo(n,t,i,r,u){const f=[];return!u&&!n.isPointInArea(t)?f:(pr(n,i,t,function(i,e,o){(u||st(i,n.chartArea,0))&&i.inRange(t.x,t.y,r)&&f.push({element:i,datasetIndex:e,index:o})},!0),f)}function eb(n,t,i,r,u,f){let e=[];const s=function(n){const t=-1!==n.indexOf("x"),i=-1!==n.indexOf("y");return function(n,r){const u=t?Math.abs(n.x-r.x):0,f=i?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(f,2))}}(i);let o=Number.POSITIVE_INFINITY;return pr(n,i,t,function(i,h,c){const a=i.inRange(t.x,t.y,u);if(!r||a){const v=i.getCenterPoint(u);if(!!f||n.isPointInArea(v)||a){const l=s(t,v);l<o?(e=[{element:i,datasetIndex:h,index:c}],o=l):l===o&&e.push({element:i,datasetIndex:h,index:c})}}}),e}function po(n,t,i,r,u,f){return f||n.isPointInArea(t)?"r"!==i||r?eb(n,t,i,r,u,f):function(n,t,i,r){let u=[];return pr(n,i,t,function(n,i,f){const{startAngle:e,endAngle:o}=n.getProps(["startAngle","endAngle"],r),{angle:s}=oe(n,{x:t.x,y:t.y});ki(s,e,o)&&u.push({element:n,datasetIndex:i,index:f})}),u}(n,t,i,u):[]}function wl(n,t,i,r,u){const e=[],o="x"===i?"inXRange":"inYRange";let f=!1;return pr(n,i,t,(n,r,s)=>{n[o]&&n[o](t[i],u)&&(e.push({element:n,datasetIndex:r,index:s}),f=f||n.inRange(t.x,t.y,u))}),r&&!f?[]:e}function wr(n,t){return n.filter(n=>n.pos===t)}function kl(n,t){return n.filter(n=>-1===bl.indexOf(n.pos)&&n.box.axis===t)}function br(n,t){return n.sort((n,i)=>{const r=t?i:n,u=t?n:i;return r.weight===u.weight?r.index-u.index:r.weight-u.weight})}function ob(n,t){const u=function(n){const t={};for(const i of n){const{stack:n,pos:u,stackWeight:f}=i;if(n&&bl.includes(u)){const r=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});r.count++;r.weight+=f}}return t}(n),{vBoxMaxWidth:f,hBoxMaxHeight:e}=t;let r,o,i;for(r=0,o=n.length;r<o;++r){i=n[r];const{fullSize:s}=i.box,h=u[i.stack],o=h&&i.stackWeight/h.weight;i.horizontal?(i.width=o?o*f:s&&t.availableWidth,i.height=e):(i.width=f,i.height=o?o*e:s&&t.availableHeight)}return u}function dl(n,t,i,r){return Math.max(n[i],t[i])+Math.max(n[r],t[r])}function gl(n,t){n.top=Math.max(n.top,t.top);n.left=Math.max(n.left,t.left);n.bottom=Math.max(n.bottom,t.bottom);n.right=Math.max(n.right,t.right)}function sb(n,i,r,u){const{pos:e,box:f}=r,o=n.maxPadding;if(!t(e)){r.size&&(n[e]-=r.size);const t=u[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?f.height:f.width);r.size=t.size/t.count;n[e]+=r.size}f.getPadding&&gl(o,f.getPadding());const s=Math.max(0,i.outerWidth-dl(o,n,"left","right")),h=Math.max(0,i.outerHeight-dl(o,n,"top","bottom")),c=s!==n.w,l=h!==n.h;return n.w=s,n.h=h,r.horizontal?{same:c,other:l}:{same:l,other:c}}function hb(n,t){function r(n){const r={left:0,top:0,right:0,bottom:0};return n.forEach(n=>{r[n]=Math.max(t[n],i[n])}),r}const i=t.maxPadding;return r(n?["left","right"]:["top","bottom"])}function kr(n,t,i,r){const e=[];let f,c,u,o,s,h;for(f=0,c=n.length,s=0;f<c;++f){u=n[f];o=u.box;o.update(u.width||t.w,u.height||t.h,hb(u.horizontal,t));const{same:c,other:l}=sb(t,i,u,r);s|=c&&e.length;h=h||l;o.fullSize||e.push(u)}return s&&kr(e,t,i,r)||h}function ff(n,t,i,r,u){n.top=i;n.left=t;n.right=t+r;n.bottom=i+u;n.width=r;n.height=u}function na(n,t,i,r){const u=i.padding;let{x:f,y:e}=t;for(const o of n){const s=o.box,n=r[o.stack]||{count:1,placed:0,weight:1},h=o.stackWeight/n.weight||1;if(o.horizontal){const r=t.w*h,f=n.size||s.height;wi(n.start)&&(e=n.start);s.fullSize?ff(s,u.left,e,i.outerWidth-u.right-u.left,f):ff(s,t.left+n.placed,e,r,f);n.start=e;n.placed+=r;e=s.bottom}else{const r=t.h*h,e=n.size||s.width;wi(n.start)&&(f=n.start);s.fullSize?ff(s,f,u.top,e,i.outerHeight-u.bottom-u.top):ff(s,f,t.top+n.placed,e,r);n.start=f;n.placed+=r;f=s.right}}t.x=f;t.y=e}function lb(n,t,i){n&&n.canvas&&n.canvas.removeEventListener(t,i,ra)}function sf(n,t){for(const i of n)if(i===t||i.contains(t))return!0}function ab(n,t,i){const r=n.canvas,u=new MutationObserver(n=>{let t=!1;for(const i of n)t=t||sf(i.addedNodes,r),t=t&&!sf(i.removedNodes,r);t&&i()});return u.observe(document,{childList:!0,subtree:!0}),u}function vb(n,t,i){const r=n.canvas,u=new MutationObserver(n=>{let t=!1;for(const i of n)t=t||sf(i.removedNodes,r),t=t&&!sf(i.addedNodes,r);t&&i()});return u.observe(document,{childList:!0,subtree:!0}),u}function fa(){const n=window.devicePixelRatio;n!==ua&&(ua=n,dr.forEach((t,i)=>{i.currentDevicePixelRatio!==n&&t()}))}function yb(n,t,i){const u=n.canvas,r=u&&wu(u);if(r){const f=le((n,t)=>{const u=r.clientWidth;i(n,t);u<r.clientWidth&&i()},window),e=new ResizeObserver(n=>{const t=n[0],i=t.contentRect.width,r=t.contentRect.height;0===i&&0===r||f(i,r)});return e.observe(r),function(n,t){dr.size||window.addEventListener("resize",fa);dr.set(n,t)}(n,f),e}}function ko(n,t,i){i&&i.disconnect();"resize"===t&&function(n){dr.delete(n);dr.size||window.removeEventListener("resize",fa)}(n)}function pb(n,t,i){const u=n.canvas,r=le(t=>{null!==n.ctx&&i(function(n,t){const u=cb[n.type]||n.type,{x:i,y:r}=ni(n,t);return{type:u,chart:t,"native":n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,n))},n);return function(n,t,i){n&&n.addEventListener(t,i,ra)}(u,t,r),r}function oa(n){return!pu()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?ta:ea}function ca(n,t){const i=n&&n.options||{},r=i.reverse,u=void 0===i.min?t:0,f=void 0===i.max?t:0;return{start:r?f:u,end:r?u:f}}function la(n,t){const r=[],u=n._getSortedDatasetMetas(t);let i,f;for(i=0,f=u.length;i<f;++i)r.push(u[i].index);return r}function aa(n,t,i,r={}){const o=n.keys,c="single"===r.mode;let u,s,e,f;if(null!==t){for(u=0,s=o.length;u<s;++u){if(e=+o[u],e===i){if(r.all)continue;break}f=n.values[e];h(f)&&(c||0===t||rt(t)===rt(f))&&(t+=f)}return t}}function ts(n,t){const i=n&&n.options.stacked;return i||void 0===i&&void 0!==t.stack}function bb(n,t,i){const r=n[t]||(n[t]={});return r[i]||(r[i]={})}function va(n,t,i,r){for(const u of t.getMatchingVisibleMetas(r).reverse()){const t=n[u.index];if(i&&t>0||!i&&t<0)return u.index}return null}function ya(n,t){const{chart:f,_cachedMeta:r}=n,s=f._stacks||(f._stacks={}),{iScale:e,vScale:u,index:o}=r,a=e.axis,h=u.axis,c=function(n,t,i){return`${n.id}.${t.id}.${i.stack||i.type}`}(e,u,r),l=t.length;let i;for(let n=0;n<l;++n){const f=t[n],{[l]:l,[h]:e}=f;i=(f._stacks||(f._stacks={}))[h]=bb(s,c,l);i[o]=e;i._top=va(i,u,!0,r.type);i._bottom=va(i,u,!1,r.type);(i._visualValues||(i._visualValues={}))[o]=e}}function is(n,t){const i=n.scales;return Object.keys(i).filter(n=>i[n].axis===t).shift()}function gr(n,t){const r=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const n of t){const t=n._stacks;if(!t||void 0===t[i]||void 0===t[i][r])return;delete t[i][r];void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[r]&&delete t[i]._visualValues[r]}}}function kb(n,t){const c=n.options.ticks,l=function(n){const i=n.options.offset,t=n._tickSize(),r=n._length/t+(i?0:1),u=n._maxLength/t;return Math.floor(Math.min(r,u))}(n),o=Math.min(c.maxTicksLimit||l,l),u=c.major.enabled?function(n){const i=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&i.push(t);return i}(t):[],f=u.length,s=u[0],h=u[f-1],r=[];if(f>o)return function(n,t,i,r){let u,f=0,e=i[0];for(r=Math.ceil(r),u=0;u<n.length;u++)u===e&&(t.push(n[u]),f++,e=i[f*r])}(t,r,u,f/o),r;const e=function(n,t,i){const u=function(n){const r=n.length;let t,i;if(r<2)return!1;for(i=n[0],t=1;t<r;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),r=t.length/i;if(!u)return Math.max(r,1);const f=lh(u);for(let n=0,t=f.length-1;n<t;n++){const t=f[n];if(t>r)return t}return Math.max(r,1)}(u,t,o);if(f>0){let n,c;const o=f>1?Math.round((h-s)/(f-1)):null;for(hf(t,r,e,i(o)?0:s-o,s),n=0,c=f-1;n<c;n++)hf(t,r,e,u[n],u[n+1]);return hf(t,r,e,h,i(o)?t.length:h+o),r}return hf(t,r,e),r}function hf(t,i,r,u,f){const s=n(u,0),l=Math.min(n(f,t.length),t.length);let c,e,o,h=0;for(r=Math.ceil(r),f&&(c=f-u,r=c/Math.floor(c/r)),o=s;o<0;)h++,o=Math.round(s+h*r);for(e=Math.max(s,0);e<l;e++)e===o&&(i.push(t[e]),h++,o=Math.round(s+h*r))}function ka(n,t){const r=[],u=n.length/t,f=n.length;let i=0;for(;i<f;i+=u)r.push(n[Math.floor(i)]);return r}function db(n,t,i){const e=n.ticks.length,u=Math.min(t,e-1),o=n._startPixel,s=n._endPixel,h=1e-6;let f,r=n.getPixelForTick(u);if(!(i&&(f=1===e?Math.max(r-o,s-r):0===t?(n.getPixelForTick(1)-r)/2:(r-n.getPixelForTick(u-1))/2,r+=u<t?f:-f,r<o-h||r>s+h)))return r}function nu(n){return n.drawTicks?n.tickLength:0}function da(n,t){if(!n.display)return 0;const i=a(n.font,t),r=w(n.padding);return(f(n.text)?n.text.length:1)*i.lineHeight+r.height}function gb(n,t,i){let r=su(n);return(i&&"right"!==t||!i&&"right"===t)&&(r=(n=>"left"===n?"right":"right"===n?"left":n)(r)),r}function ik(n,t){return t||!1!==n?!0===n?{}:n:null}function rk(n,{plugin:t,local:i},r,u){const e=n.pluginScopeKeys(t),f=n.getOptionScopes(r,e);return i&&t.defaults&&f.push(t.defaults),n.createResolver(f,u,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function us(n,t){const i=s.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function ga(n){if("x"===n||"y"===n||"r"===n)return n}function fs(n,...t){if(ga(n))return n;for(const r of t){const t=r.axis||("top"===(i=r.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||n.length>1&&ga(n[0].toLowerCase());if(t)return t}var i;throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`);}function nv(n,t,i){if(i[t+"AxisID"]===n)return{axis:t}}function uk(n,i){const f=oi[n.type]||{scales:{}},u=i.scales||{},e=us(n.type,i),r=Object.create(null);return Object.keys(u).forEach(i=>{const o=u[i];if(!t(o))return console.error(`Invalid scale configuration for scale: ${i}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const h=fs(i,o,function(n,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter(t=>t.xAxisID===n||t.yAxisID===n);if(i.length)return nv(n,"x",i[0])||nv(n,"y",i[0])}return{}}(i,n),s.scales[o.type]),l=function(n,t){return n===t?"_index_":"_value_"}(h,e),c=f.scales||{};r[i]=pi(Object.create(null),[{axis:h},o,c[h],c[l]])}),n.data.datasets.forEach(t=>{const f=t.type||n.type,o=t.indexAxis||us(f,i),e=(oi[f]||{}).scales||{};Object.keys(e).forEach(n=>{const f=function(n,t){let i=n;return"_index_"===n?i=t:"_value_"===n&&(i="x"===t?"y":"x"),i}(n,o),i=t[f+"AxisID"]||f;r[i]=r[i]||Object.create(null);pi(r[i],[{axis:f},u[i],e[n]])})}),Object.keys(r).forEach(n=>{const t=r[n];pi(t,[s.scales[t.type],s.scale])}),r}function tv(t){const i=t.options||(t.options={});i.plugins=n(i.plugins,{});i.scales=uk(t,i)}function iv(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}function lf(n,t){let i=rv.get(n);return i||(i=t(),rv.set(n,i),uv.add(i)),i}function fv(n,t,i){let r=n.get(t);r||(r=new Map,n.set(t,r));const f=i.join();let u=r.get(f);return u||(u={resolver:nf(t,i),subPrefixes:i.filter(n=>!n.toLowerCase().includes("hover"))},r.set(f,u)),u}function ev(n,t){return"top"===n||"bottom"===n||-1===ok.indexOf(n)&&"x"===t}function ov(n,t){return function(i,r){return i[n]===r[n]?i[t]-r[t]:i[n]-r[n]}}function sv(n){const t=n.chart,i=t.options.animation;t.notifyPlugins("afterRender");u(i&&i.onComplete,[n],t)}function sk(n){const t=n.chart,i=t.options.animation;u(i&&i.onProgress,[n],t)}function hv(n){return pu()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}function hk(n,t,i){const r=Object.keys(n);for(const u of r){const r=+u;if(r>=t){const f=n[u];delete n[u];(i>0||r>t)&&(n[r+i]=f)}}}function vf(n,t,i){return n.options.clip?n[i]:t[i]}function lv(){return r(l.instances,n=>n._plugins.invalidate())}function ai(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.");}function ck(n){const r=n.iScale,o=function(n,t){if(!n._cache.$bar){const r=n.getMatchingVisibleMetas(t);let i=[];for(let t=0,u=r.length;t<u;t++)i=i.concat(r[t].controller.getAllParsedValues(n));n._cache.$bar=he(i.sort((n,t)=>n-t))}return n._cache.$bar}(r,n.type);let t,u,i,f,e=r._length;const s=()=>{32767!==i&&-32768!==i&&(wi(f)&&(e=Math.min(e,Math.abs(i-f)||e)),f=i)};for(t=0,u=o.length;t<u;++t)i=r.getPixelForValue(o[t]),s();for(f=void 0,t=0,u=r.ticks.length;t<u;++t)i=r.getPixelForTick(t),s();return e}function vv(n,t,i,r){return f(n)?function(n,t,i,r){const e=i.parse(n[0],r),o=i.parse(n[1],r),u=Math.min(e,o),f=Math.max(e,o);let h=u,s=f;Math.abs(u)>Math.abs(f)&&(h=f,s=u);t[i.axis]=s;t._custom={barStart:h,barEnd:s,start:e,end:o,min:u,max:f}}(n,t,i,r):t[i.axis]=i.parse(n,r),t}function yv(n,t,i,r){const f=n.iScale,o=n.vScale,l=f.getLabels(),a=f===o,s=[];let u,h,e,c;for(u=i,h=i+r;u<h;++u)c=t[u],e={},e[f.axis]=a||f.parse(l[u],u),s.push(vv(c,e,o,u));return s}function os(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function lk(n,t,i,r){let u=t.borderSkipped;const f={};if(!u)return void(n.borderSkipped=f);if(!0===u)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:e,end:o,reverse:s,top:h,bottom:c}=function(n){let t,i,r,u,f;return n.horizontal?(t=n.base>n.x,i="left",r="right"):(t=n.base<n.y,i="bottom",r="top"),t?(u="end",f="start"):(u="start",f="end"),{start:i,end:r,reverse:t,top:u,bottom:f}}(n);"middle"===u&&i&&(n.enableBorderRadius=!0,(i._top||0)===r?u=h:(i._bottom||0)===r?u=c:(f[pv(c,e,o,s)]=!0,u=h));f[pv(u,e,o,s)]=!0;n.borderSkipped=f}function pv(n,t,i,r){var u,e,f;return r?(f=i,n=wv(n=(u=n)===(e=t)?f:u===f?e:u,i,t)):n=wv(n,t,i),n}function wv(n,t,i){return"start"===n?t:"end"===n?i:n}function ak(n,{inflateAmount:t},i){n.inflateAmount="auto"===t?1===i?.33:0:t}function vk(n,t,i,r){const u=uf(n.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),f=(i-t)/2,e=Math.min(f,r*t/2),o=n=>{const t=(i-Math.min(f,n))*r/2;return v(n,0,Math.min(f,t))};return{outerStart:o(u.outerStart),outerEnd:o(u.outerEnd),innerStart:v(u.innerStart,0,e),innerEnd:v(u.innerEnd,0,e)}}function fr(n,t,i,r){return{x:i+n*Math.cos(t),y:r+n*Math.sin(t)}}function yf(n,t,i,r,u,f){const{x:o,y:s,startAngle:ut,pixelMargin:ft,innerRadius:d}=t,h=Math.max(t.outerRadius+r+i-ft,0),l=d>0?d+r+i+ft:0;let tt=0;const k=u-ut;if(r){const n=((d>0?d-r:0)+(h>0?h-r:0))/2;tt=(k-(0!==n?k*n/(n+r):k))/2}const et=(k-Math.max(.001,k*h-i/e)/h)/2,a=ut+et+tt,v=u-et-tt,{outerStart:g,outerEnd:nt,innerStart:y,innerEnd:p}=vk(t,l,h,v-a),it=h-g,ot=h-nt,w=a+g/it,b=v-nt/ot,st=l+y,rt=l+p,ht=a+y/st,ct=v-p/rt;if(n.beginPath(),f){const t=(w+b)/2;if(n.arc(o,s,h,w,t),n.arc(o,s,h,t,b),nt>0){const t=fr(ot,b,o,s);n.arc(t.x,t.y,nt,b,v+c)}const i=fr(rt,v,o,s);if(n.lineTo(i.x,i.y),p>0){const t=fr(rt,ct,o,s);n.arc(t.x,t.y,p,v+c,ct+Math.PI)}const r=(v-p/l+(a+y/l))/2;if(n.arc(o,s,l,v-p/l,r,!0),n.arc(o,s,l,r,a+y/l,!0),y>0){const t=fr(st,ht,o,s);n.arc(t.x,t.y,y,ht+Math.PI,a-c)}const u=fr(it,a,o,s);if(n.lineTo(u.x,u.y),g>0){const t=fr(it,w,o,s);n.arc(t.x,t.y,g,a-c,w)}}else{n.moveTo(o,s);const t=Math.cos(w)*h+o,i=Math.sin(w)*h+s;n.lineTo(t,i);const r=Math.cos(b)*h+o,u=Math.sin(b)*h+s;n.lineTo(r,u)}n.closePath()}function yk(n,t,i,r,u){const{fullCircles:e,startAngle:y,circumference:h,options:l}=t,{borderWidth:s,borderJoinStyle:a,borderDash:p,borderDashOffset:w}=l,v="inner"===l.borderAlign;if(s){n.setLineDash(p||[]);n.lineDashOffset=w;v?(n.lineWidth=2*s,n.lineJoin=a||"round"):(n.lineWidth=s,n.lineJoin=a||"bevel");let f=t.endAngle;if(e){yf(n,t,i,r,f,u);for(let t=0;t<e;++t)n.stroke();isNaN(h)||(f=y+(h%o||o))}v&&function(n,t,i){const{startAngle:f,pixelMargin:u,x:e,y:o,outerRadius:h,innerRadius:s}=t;let r=u/h;n.beginPath();n.arc(e,o,h,f-r,i+r);s>u?(r=u/s,n.arc(e,o,s,i+r,f-r,!0)):n.arc(e,o,u,i+c,f-c);n.closePath();n.clip()}(n,t,f);e||(yf(n,t,i,r,f,u),n.stroke())}}function kv(t,i,r=i){t.lineCap=n(r.borderCapStyle,i.borderCapStyle);t.setLineDash(n(r.borderDash,i.borderDash));t.lineDashOffset=n(r.borderDashOffset,i.borderDashOffset);t.lineJoin=n(r.borderJoinStyle,i.borderJoinStyle);t.lineWidth=n(r.borderWidth,i.borderWidth);t.strokeStyle=n(r.borderColor,i.borderColor)}function pk(n,t,i){n.lineTo(i.x,i.y)}function dv(n,t,i={}){const h=n.length,{start:u=0,end:f=s-1}=i,{start:e,end:o}=t,r=Math.max(u,e),s=Math.min(f,o),c=u<e&&f<e||u>o&&f>o;return{count:h,start:r,loop:t.loop,ilen:s<r&&!c?h+s-r:s-r}}function wk(n,t,i,r){const{points:o,options:s}=t,{count:l,start:a,loop:v,ilen:h}=dv(o,i,r),y=function(n){return n.stepped?yc:n.tension||"monotone"===n.cubicInterpolationMode?pc:pk}(s);let f,u,c,{move:p=!0,reverse:e}=r||{};for(f=0;f<=h;++f)u=o[(a+(e?h-f:f))%l],u.skip||(p?(n.moveTo(u.x,u.y),p=!1):y(n,c,u,e,s.stepped),c=u);return v&&(u=o[(a+(e?h:0))%l],y(n,c,u,e,s.stepped)),!!v}function bk(n,t,i,r){const h=t.points,{count:w,start:b,ilen:l}=dv(h,i,r),{move:k=!0,reverse:d}=r||{};let s,u,a,f,e,v,o=0,c=0;const y=n=>(b+(d?l-n:n))%w,p=()=>{f!==e&&(n.lineTo(o,e),n.lineTo(o,f),n.lineTo(o,v))};for(k&&(u=h[y(0)],n.moveTo(u.x,u.y)),s=0;s<=l;++s)if(u=h[y(s)],!u.skip){const i=u.x,t=u.y,r=0|i;r===a?(t<f?f=t:t>e&&(e=t),o=(c*o+i)/++c):(p(),n.lineTo(i,t),a=r,c=0,f=e=t);v=t}p()}function cs(n){const t=n.options,i=t.borderDash&&t.borderDash.length;return(n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||i)?wk:bk}function dk(n,t,i,r){kk&&!t.options.segment?function(n,t,i,r){let u=t._path;u||(u=t._path=new Path2D,t.path(u,i,r)&&u.closePath());kv(n,t.options);n.stroke(u)}(n,t,i,r):function(n,t,i,r){const{segments:u,options:f}=t,e=cs(t);for(const o of u)kv(n,f,o.style),n.beginPath(),e(n,t,o,{start:i,end:i+r-1})&&n.closePath(),n.stroke()}(n,t,i,r)}function gv(n,t,i,r){const u=n.options,{[i]:f}=n.getProps([i],r);return Math.abs(t-f)<u.radius+u.hitRadius}function ny(n,t){const{x:r,y:u,base:f,width:c,height:l}=n.getProps(["x","y","base","width","height"],t);let e,o,s,h,i;return n.horizontal?(i=l/2,e=Math.min(r,f),o=Math.max(r,f),s=u-i,h=u+i):(i=c/2,e=r-i,o=r+i,s=Math.min(u,f),h=Math.max(u,f)),{left:e,top:s,right:o,bottom:h}}function fi(n,t,i,r){return n?0:v(t,i,r)}function gk(n){const r=ny(n),f=r.right-r.left,e=r.bottom-r.top,i=function(n,t,i){const f=n.options.borderWidth,r=n.borderSkipped,u=ho(f);return{t:fi(r.top,u.top,0,i),r:fi(r.right,u.right,0,t),b:fi(r.bottom,u.bottom,0,i),l:fi(r.left,u.left,0,t)}}(n,f/2,e/2),u=function(n,i,r){const{enableBorderRadius:h}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,f=ui(s),e=Math.min(i,r),u=n.borderSkipped,o=h||t(s);return{topLeft:fi(!o||u.top||u.left,f.topLeft,0,e),topRight:fi(!o||u.top||u.right,f.topRight,0,e),bottomLeft:fi(!o||u.bottom||u.left,f.bottomLeft,0,e),bottomRight:fi(!o||u.bottom||u.right,f.bottomRight,0,e)}}(n,f/2,e/2);return{outer:{x:r.left,y:r.top,w:f,h:e,radius:u},inner:{x:r.left+i.l,y:r.top+i.t,w:f-i.l-i.r,h:e-i.t-i.b,radius:{topLeft:Math.max(0,u.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,u.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,u.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,u.bottomRight-Math.max(i.b,i.r))}}}}function ls(n,t,i,r){const f=null===t,e=null===i,u=n&&!(f&&e)&&ny(n,r);return u&&(f||et(t,u.left,u.right))&&(e||et(i,u.top,u.bottom))}function nd(n,t){n.rect(t.x,t.y,t.w,t.h)}function as(n,t,i={}){const r=n.x!==i.x?-t:0,u=n.y!==i.y?-t:0,f=(n.x+n.w!==i.x+i.w?t:0)-r,e=(n.y+n.h!==i.y+i.h?t:0)-u;return{x:n.x+r,y:n.y+u,w:n.w+f,h:n.h+e,radius:n.radius}}function td(n,t,i,r){const u=n.indexOf(t);return-1===u?((n,t,i,r)=>("string"==typeof t?(i=n.push(t)-1,r.unshift({index:i,label:t})):isNaN(t)&&(i=null),i))(n,t,i,r):u!==n.lastIndexOf(t)?i:u}function ty(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}function iy(n,t,{horizontal:i,minRotation:r}){const u=nt(r),f=(i?Math.sin(u):Math.cos(u))||.001,e=.75*t*(""+n).length;return Math.min(t/f,e)}function ry(n){return 1==n/Math.pow(10,iu(n))}function uy(n,t,i){const r=Math.pow(10,i),u=Math.floor(n/r);return Math.ceil(t/r)-u}function rd(n,{min:t,max:i}){t=b(n.min,t);const s=[],c=iu(t);let u=function(n,t){let i=iu(t-n);for(;uy(n,t,i)>10;)i++;for(;uy(n,t,i)<10;)i--;return Math.min(i,iu(n))}(t,i),f=u<0?Math.pow(10,Math.abs(u)):1;const l=Math.pow(10,u),o=c>u?Math.pow(10,c):0,v=Math.round((t-o)*f)/f,h=Math.floor((t-o)/l/10)*l*10;let r=Math.floor((v-h)/Math.pow(10,u)),e=b(n.min,Math.round((o+h+r*Math.pow(10,u))*f)/f);for(;e<i;)s.push({value:e,major:ry(e),significand:r}),r>=10?r=r<15?15:20:r++,r>=20&&(u++,r=2,f=u>=0?1:f),e=Math.round((o+h+r*Math.pow(10,u))*f)/f;const a=b(n.max,e);return s.push({value:a,major:ry(a),significand:r}),s}function vs(t){const i=t.ticks;if(i.display&&t.display){const t=w(i.backdropPadding);return n(i.font&&i.font.size,s.font.size)+t.height}return 0}function fy(n,t,i,r,u){return n===r||n===u?{start:t-i/2,end:t+i/2}:n<r||n>u?{start:t-i,end:t}:{start:t,end:t+i}}function fd(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},r=Object.assign({},t),s=[],u=[],h=n._pointLabels.length,c=n.options.pointLabels,l=c.centerPointLabels?e/h:0;for(let e=0;e<h;e++){const y=c.setContext(n.getPointLabelContext(e));u[e]=y.padding;const p=n.getPointPosition(e,n.drawingArea+u[e],l),d=a(y.font),h=(v=n.ctx,o=d,i=f(i=n._pointLabels[e])?i:[i],{w:vc(v,o.string,i),h:i.length*o.lineHeight});s[e]=h;const w=k(n.getIndexAngle(e)+l),b=Math.round(fu(w));ed(r,t,w,fy(b,p.x,h.w,0,180),fy(b,p.y,h.h,90,270))}var v,o,i;n.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b);n._pointLabelItems=function(n,t,i){const u=[],f=n._pointLabels.length,o=n.options,{centerPointLabels:h,display:c}=o.pointLabels,r={extra:vs(o)/2,additionalAngle:h?e/f:0};let s;for(let e=0;e<f;e++){r.padding=i[e];r.size=t[e];const f=od(n,e,r);u.push(f);"auto"===c&&(f.visible=sd(f,s),f.visible&&(s=f))}return u}(n,s,u)}function ed(n,t,i,r,u){const o=Math.abs(Math.sin(i)),s=Math.abs(Math.cos(i));let f=0,e=0;r.start<t.l?(f=(t.l-r.start)/o,n.l=Math.min(n.l,t.l-f)):r.end>t.r&&(f=(r.end-t.r)/o,n.r=Math.max(n.r,t.r+f));u.start<t.t?(e=(t.t-u.start)/s,n.t=Math.min(n.t,t.t-e)):u.end>t.b&&(e=(u.end-t.b)/s,n.b=Math.max(n.b,t.b+e))}function od(n,t,i){const h=n.drawingArea,{extra:l,additionalAngle:a,padding:v,size:r}=i,u=n.getPointPosition(t,h+l+v,a),e=Math.round(fu(k(u.angle+c))),f=function(n,t,i){return 90===i||270===i?n-=t/2:(i>270||i<90)&&(n-=t),n}(u.y,r.h,e),o=function(n){return 0===n||180===n?"center":n<180?"left":"right"}(e),s=function(n,t,i){return"right"===i?n-=t:"center"===i&&(n-=t/2),n}(u.x,r.w,o);return{visible:!0,x:u.x,y:f,textAlign:o,left:s,top:f,right:s+r.w,bottom:f+r.h}}function sd(n,t){if(!t)return!0;const{left:i,top:r,right:u,bottom:f}=n;return!(st({x:i,y:r},t)||st({x:i,y:f},t)||st({x:u,y:r},t)||st({x:u,y:f},t))}function hd(n,t,r){const{left:u,top:f,right:o,bottom:s}=r,{backdropColor:e}=t;if(!i(e)){const r=ui(t.borderRadius),i=w(t.backdropPadding);n.fillStyle=e;const h=u-i.left,c=f-i.top,l=o-u+i.width,a=s-f+i.height;Object.values(r).some(n=>0!==n)?(n.beginPath(),tr(n,{x:h,y:c,w:l,h:a,radius:r}),n.fill()):n.fillRect(h,c,l,a)}}function ey(n,t,i,r){const{ctx:u}=n;if(i)u.arc(n.xCenter,n.yCenter,t,0,o);else{let i=n.getPointPosition(0,t);u.moveTo(i.x,i.y);for(let f=1;f<r;f++)i=n.getPointPosition(f,t),u.lineTo(i.x,i.y)}}function oy(n,t){return n-t}function sy(n,t){if(i(t))return null;const u=n._adapter,{parser:f,round:e,isoWeekday:o}=n._parseOpts;let r=t;return"function"==typeof f&&(r=f(r)),h(r)||(r="string"==typeof f?u.parse(r,f):u.parse(r)),null===r?null:(e&&(r="week"!==e||!ei(o)&&!0!==o?u.startOf(r,e):u.startOf(r,"isoWeek",o)),+r)}function hy(n,t,i,r){const u=d.length;for(let f=d.indexOf(n);f<u-1;++f){const n=kf[d[f]],u=n.steps?n.steps:Number.MAX_SAFE_INTEGER;if(n.common&&Math.ceil((i-t)/(u*n.size))<=r)return d[f]}return d[u-1]}function cy(n,t,i){if(i){if(i.length){const{lo:r,hi:u}=ou(i,t);n[i[r]>=t?i[r]:i[u]]=!0}}else n[t]=!0}function ly(n,t,i){const u=[],e={},o=t.length;let r,f;for(r=0;r<o;++r)f=t[r],e[f]=r,u.push({value:f,major:!1});return 0!==o&&i?function(n,t,i,r){const e=n._adapter,o=+e.startOf(t[0].value,r),s=t[t.length-1].value;let u,f;for(u=o;u<=s;u=+e.add(u,1,r))f=i[u],f>=0&&(t[f].major=!0);return t}(n,u,e,i):u}function df(n,t,i){let e,o,f,s,r=0,u=n.length-1;i?(t>=n[r].pos&&t<=n[u].pos&&({lo:r,hi:u}=ot(n,"pos",t)),{pos:e,time:f}=n[r],{pos:o,time:s}=n[u]):(t>=n[r].time&&t<=n[u].time&&({lo:r,hi:u}=ot(n,"time",t)),{time:e,pos:f}=n[r],{time:o,pos:s}=n[u]);const h=o-e;return h?f+(s-f)*(t-e)/h:f}function vy(n){return ws[n%ws.length]}function yy(n){return ay[n%ay.length]}function ld(n){let t=0;return(i,r)=>{const u=n.getDatasetMeta(r).controller;u instanceof ss?t=function(n,t){return n.backgroundColor=n.data.map(()=>vy(t++)),t}(i,t):u instanceof bv?t=function(n,t){return n.backgroundColor=n.data.map(()=>yy(t++)),t}(i,t):u&&(t=function(n,t){return n.borderColor=vy(t),n.backgroundColor=yy(t),++t}(i,t))}}function py(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function by(n){if(n._decimated){const t=n._data;delete n._decimated;delete n._data;Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function ky(n){n.data.datasets.forEach(n=>{by(n)})}function bs(n,t,i,r){if(!r){let u=t[n],f=i[n];return"angle"===n&&(u=k(u),f=k(f)),{property:n,start:u,end:f}}}function ks(n,t,i){for(;t>n;t--){const n=i[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function gy(n,t,i,r){return n&&t?r(n[i],t[i]):n?n[i]:t?t[i]:0}function np(n,t){let i=[],r=!1;return f(n)?(r=!0,i=n):i=function(n,t){const{x:r=null,y:u=null}=n||{},f=t.points,i=[];return t.segments.forEach(({start:t,end:n})=>{n=ks(t,n,f);const e=f[t],o=f[n];null!==u?(i.push({x:e.x,y:u}),i.push({x:o.x,y:u})):null!==r&&(i.push({x:r,y:e.y}),i.push({x:r,y:o.y}))}),i}(n,t),i.length?new pf({points:i,options:{tension:0},_loop:r,_fullLoop:r}):null}function tp(n){return n&&!1!==n.fill}function ad(n,t,i){let r=n[t].fill;const f=[t];let u;if(!i)return r;for(;!1!==r&&-1===f.indexOf(r);){if(!h(r))return r;if(u=n[r],!u)return!1;if(u.visible)return r;f.push(r);r=u.fill}return!1}function vd(i,r,u){const f=function(t){const u=t.options,r=u.fill;let i=n(r&&r.target,r);return(void 0===i&&(i=!!u.backgroundColor),!1===i||null===i)?!1:!0===i?"origin":i}(i);if(t(f))return!isNaN(f.value)&&f;let e=parseFloat(f);return h(e)&&Math.floor(e)===e?function(n,t,i,r){return("-"!==n&&"+"!==n||(i=t+i),i===t||i<0||i>=r)?!1:i}(f[0],r,e,u):["origin","start","end","stack","shape"].indexOf(f)>=0&&f}function yd(n,t,i){const r=[];for(let u=0;u<i.length;u++){const s=i[u],{first:e,last:o,point:f}=pd(s,t,"x");if(!(!f||e&&o))if(e)r.unshift(f);else if(n.push(f),!o)break}n.push(...r)}function pd(n,t,i){const r=n.interpolate(t,i);if(!r)return{};const u=r[i],f=n.segments,e=n.points;let o=!1,s=!1;for(let n=0;n<f.length;n++){const t=f[n],r=e[t.start][i],h=e[t.end][i];if(et(u,r,h)){o=u===r;s=u===h;break}}return{first:o,last:s,point:r}}function wd(n){const{chart:u,fill:i,line:f}=n;if(h(i))return function(n,t){const i=n.getDatasetMeta(t),r=i&&n.isDatasetVisible(t);return r?i.dataset:null}(u,i);if("stack"===i)return function(n){const{scale:i,index:e,line:t}=n,r=[],u=t.segments,o=t.points,f=function(n,t){const i=[],r=n.getMatchingVisibleMetas("line");for(let n=0;n<r.length;n++){const u=r[n];if(u.index===t)break;u.hidden||i.unshift(u.dataset)}return i}(i,e);f.push(np({x:null,y:i.bottom},t));for(let n=0;n<u.length;n++){const t=u[n];for(let n=t.start;n<=t.end;n++)yd(r,o[n],f)}return new pf({points:r,options:{}})}(n);if("shape"===i)return!0;const r=function(n){const i=n.scale||{};return i.getPointPositionForValue?function(n){const{scale:i,fill:o}=n,r=i.options,s=i.getLabels().length,u=r.reverse?i.max:i.min,f=function(n,i,r){let u;return u="start"===n?r:"end"===n?i.options.reverse?i.min:i.max:t(n)?n.value:i.getBaseValue(),u}(o,i,u),e=[];if(r.grid.circular){const n=i.getPointPositionForValue(0,u);return new ip({x:n.x,y:n.y,radius:i.getDistanceFromCenterForValue(f)})}for(let n=0;n<s;++n)e.push(i.getPointPositionForValue(n,f));return e}(n):function(n){const{scale:r={},fill:u}=n,i=function(n,i){let r=null;return"start"===n?r=i.bottom:"end"===n?r=i.top:t(n)?r=i.getPixelForValue(n.value):i.getBasePixel&&(r=i.getBasePixel()),r}(u,r);if(h(i)){const n=r.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}(n)}(n);return r instanceof ip?r:np(r,f)}function ds(n,t,i){const u=wd(t),{line:r,scale:e,axis:o}=t,f=r.options,s=f.fill,l=f.backgroundColor,{above:h=h,below:c=h}=s||{};u&&r.points.length&&(vr(n,i),function(n,t){const{line:r,target:i,above:f,below:e,area:o,scale:s}=t,u=r._loop?"angle":t.axis;n.save();"x"===u&&e!==f&&(rp(n,i,o.top),up(n,{line:r,target:i,color:f,scale:s,property:u}),n.restore(),n.save(),rp(n,i,o.bottom));up(n,{line:r,target:i,color:e,scale:s,property:u});n.restore()}(n,{line:r,target:u,above:h,below:c,area:i,scale:e,axis:o}),yr(n))}function rp(n,t,i){const{segments:e,points:r}=t;let f=!0,u=!1;n.beginPath();for(const o of e){const{start:s,end:h}=o,e=r[s],c=r[ks(s,h,r)];f?(n.moveTo(e.x,e.y),f=!1):(n.lineTo(e.x,i),n.lineTo(e.x,e.y));u=!!t.pathSegment(n,o,{move:u});u?n.closePath():n.lineTo(c.x,i)}n.lineTo(t.first().x,i);n.closePath();n.clip()}function up(n,t){const{line:u,target:i,property:r,scale:f}=t,e=function(n,t,i){const e=n.segments,r=n.points,f=t.points,u=[];for(const n of e){let{start:s,end:e}=n;e=ks(s,e,r);const o=bs(i,r[s],r[e],n.loop);if(!t.segments){u.push({source:n,target:o,start:r[s],end:r[e]});continue}const h=vo(t,o);for(const t of h){const e=bs(i,f[t.start],f[t.end],t.loop),s=ao(n,r,e);for(const n of s)u.push({source:n,target:t,start:{[i]:gy(o,e,"start",Math.max)},end:{[i]:gy(o,e,"end",Math.min)}})}}return u}(u,i,r);for(const{source:t,target:h,start:o,end:s}of e){const{style:{backgroundColor:a=o}={}}=t,l=!0!==i;n.save();n.fillStyle=a;bd(n,f,l&&bs(r,o,s));n.beginPath();const e=!!u.pathSegment(n,t);let c;if(l){e?n.closePath():fp(n,i,s,r);const t=!!i.pathSegment(n,h,{move:e,reverse:!0});c=e&&t;c||fp(n,i,o,r)}n.closePath();n.fill(c?"evenodd":"nonzero");n.restore()}}function bd(n,t,i){const{top:r,bottom:f}=t.chart.chartArea,{property:e,start:u,end:o}=i||{};"x"===e&&(n.beginPath(),n.rect(u,r,o-u,f-r),n.clip())}function fp(n,t,i,r){const u=t.interpolate(i,r);u&&n.lineTo(u.x,u.y)}function hp(n,t){return t*(n.text?n.text.length:0)}function ct(n,t){return t&&(f(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function bt(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function kd(n,t){const{element:f,datasetIndex:r,index:i}=t,u=n.getDatasetMeta(r).controller,{label:e,value:o}=u.getLabelAndValue(i);return{chart:n,label:e,parsed:u.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:o,dataset:u.getDataset(),dataIndex:i,datasetIndex:r,element:f}}function vp(n,t){const i=n.chart.ctx,{body:h,footer:d,title:g}=n,{boxWidth:nt,boxHeight:tt}=t,f=a(t.bodyFont),y=a(t.titleFont),p=a(t.footerFont),c=g.length,l=d.length,b=h.length,k=w(t.padding);let e=k.height,o=0,s=h.reduce((n,t)=>n+t.before.length+t.lines.length+t.after.length,0);(s+=n.beforeBody.length+n.afterBody.length,c&&(e+=c*y.lineHeight+(c-1)*t.titleSpacing+t.titleMarginBottom),s)&&(e+=b*(t.displayColors?Math.max(tt,f.lineHeight):f.lineHeight)+(s-b)*f.lineHeight+(s-1)*t.bodySpacing);l&&(e+=t.footerMarginTop+l*p.lineHeight+(l-1)*t.footerSpacing);let v=0;const u=function(n){o=Math.max(o,i.measureText(n).width+v)};return i.save(),i.font=y.string,r(n.title,u),i.font=f.string,r(n.beforeBody.concat(n.afterBody),u),v=t.displayColors?nt+2+t.boxPadding:0,r(h,n=>{r(n.before,u),r(n.lines,u),r(n.after,u)}),v=0,i.font=p.string,r(n.footer,u),i.restore(),o+=k.width,{width:o,height:e}}function dd(n,t,i,r){const{x:f,width:e}=i,{width:o,chartArea:{left:s,right:h}}=n;let u="center";return"center"===r?u=f<=(s+h)/2?"left":"right":f<=e/2?u="left":f>=o-e/2&&(u="right"),function(n,t,i,r){const{x:u,width:f}=r,e=i.caretSize+i.caretPadding;return"left"===n&&u+f+e>t.width||"right"===n&&u-f-e<0||void 0}(u,n,t,i)&&(u="center"),u}function yp(n,t,i){const r=i.yAlign||t.yAlign||function(n,t){const{y:i,height:r}=t;return i<r/2?"top":i>n.height-r/2?"bottom":"center"}(n,i);return{xAlign:i.xAlign||t.xAlign||dd(n,t,i,r),yAlign:r}}function pp(n,t,i,r){const{caretSize:e,caretPadding:h,cornerRadius:c}=n,{xAlign:u,yAlign:s}=i,o=e+h,{topLeft:l,topRight:a,bottomLeft:y,bottomRight:p}=ui(c);let f=function(n,t){let{x:i,width:r}=n;return"right"===t?i-=r:"center"===t&&(i-=r/2),i}(t,u);const w=function(n,t,i){let{y:r,height:u}=n;return"top"===t?r+=i:r-="bottom"===t?u+i:u/2,r}(t,s,o);return"center"===s?"left"===u?f+=o:"right"===u&&(f-=o):"left"===u?f-=Math.max(l,y)+e:"right"===u&&(f+=Math.max(a,p)+e),{x:v(f,0,r.width-t.width),y:v(w,0,r.height-t.height)}}function ne(n,t,i){const r=w(i.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-r.right:n.x+r.left}function wp(n){return ct([],bt(n))}function bp(n,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?n.override(i):n}function g(n,t,i,r){const u=n[t].call(i,r);return void 0===u?kp[t].call(i,r):u}var nh=Object.freeze({__proto__:null,get Colors(){return wy},get Decimation(){return dy},get Filler(){return ep},get Legend(){return cp},get SubTitle(){return ap},get Title(){return lp},get Tooltip(){return gp}}),ut,nr,s,pl,wo,y,go,it,es,hs,wf,ps,wy,dy,ep,cp,lp,ap,gp;const th=(()=>{let n=0;return()=>n++})();const ih=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t,te=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;const eh={"":n=>n,x:n=>n.x,y:n=>n.y};const wi=n=>void 0!==n,at=n=>"function"==typeof n,ie=(n,t)=>{if(n.size!==t.size)return!1;for(const i of n)if(!t.has(i))return!1;return!0};const e=Math.PI,o=2*e,hh=o+e,sr=Number.POSITIVE_INFINITY,ch=e/180,c=e/2,kt=e/4,re=2*e/3,vt=Math.log10,rt=Math.sign;const ot=(n,t,i,r)=>ou(n,i,r?r=>{const u=n[r][t];return u<i||u===i&&n[r+1][t]===i}:r=>n[r][t]<i),ph=(n,t,i)=>ou(n,i,r=>n[r][t]>=i);const bh=["push","pop","shift","splice","unshift"];const ce="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;const su=n=>"start"===n?"left":"end"===n?"right":"center",p=(n,t,i)=>"start"===n?t:"end"===n?i:(t+i)/2,gh=(n,t,i,r)=>n===(r?"left":"right")?i:"center"===n?(t+i)/2:t;class nw{constructor(){this._request=null;this._charts=new Map;this._running=!1;this._lastDate=void 0}_notify(n,t,i,r){const f=t.listeners[r],u=t.duration;f.forEach(r=>r({chart:n,initial:t.initial,numSteps:u,currentStep:Math.min(i-t.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=ce.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(i.running&&i.items.length){const u=i.items;let f,e=u.length-1,o=!1;for(;e>=0;--e)f=u[e],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(n),o=!0):(u[e]=u[u.length-1],u.pop());o&&(r.draw(),this._notify(r,i,n,"progress"));u.length||(i.running=!1,this._notify(r,i,n,"complete"),i.initial=!1);t+=u.length}});this._lastDate=n;0===t&&(this._running=!1)}_getAnims(n){const i=this._charts;let t=i.get(n);return t||(t={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(n,t)),t}listen(n,t,i){this._getAnims(n).listeners[t].push(i)}add(n,t){t&&t.length&&this._getAnims(n).items.push(...t)}has(n){return this._getAnims(n).items.length>0}start(n){const t=this._charts.get(n);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,t)=>Math.max(n,t._duration),0),this._refresh())}running(n){if(!this._running)return!1;const t=this._charts.get(n);return!!(t&&t.running&&t.items.length)}stop(n){const t=this._charts.get(n);if(t&&t.items.length){const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[];this._notify(n,t,Date.now(),"complete")}}remove(n){return this._charts.delete(n)}}ut=new nw;
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
const dt=(n,t,i)=>Math.max(Math.min(n,i),t);const tt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ye=[..."0123456789ABCDEF"],tw=n=>ye[15&n],iw=n=>ye[(240&n)>>4]+ye[15&n],hu=n=>(240&n)>>4==(15&n);const uw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;const rc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},uc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let cu;const hw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,ke=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,di=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);class au{constructor(n){if(n instanceof au)return n;const f=typeof n;let r;var t,u,i;"object"===f?r=ec(n):"string"===f&&(i=(t=n).length,"#"===t[0]&&(4===i||5===i?u={r:255&17*tt[t[1]],g:255&17*tt[t[2]],b:255&17*tt[t[3]],a:5===i?17*tt[t[4]]:255}:7!==i&&9!==i||(u={r:tt[t[1]]<<4|tt[t[2]],g:tt[t[3]]<<4|tt[t[4]],b:tt[t[5]]<<4|tt[t[6]],a:9===i?tt[t[7]]<<4|tt[t[8]]:255})),r=u||sw(n)||cw(n));this._rgb=r;this._valid=!!r}get valid(){return this._valid}get rgb(){var n=fc(this._rgb);return n&&(n.a=yt(n.a)),n}set rgb(n){this._rgb=ec(n)}rgbString(){return this._valid?(n=this._rgb)&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${yt(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`):void 0;var n}hexString(){if(this._valid)return rw(this._rgb)}hslString(){if(this._valid)return function(n){if(n){const t=pe(n),i=t[0],r=nc(t[1]),u=nc(t[2]);return n.a<255?`hsla(${i}, ${r}%, ${u}%, ${yt(n.a)})`:`hsl(${i}, ${r}%, ${u}%)`}}(this._rgb)}mix(n,t){if(n){const i=this.rgb,r=n.rgb;let u;const o=t===u?.5:t,f=2*o-1,s=i.a-r.a,e=((f*s==-1?f:(f+s)/(1+f*s))+1)/2;u=1-e;i.r=255&e*i.r+u*r.r+.5;i.g=255&e*i.g+u*r.g+.5;i.b=255&e*i.b+u*r.b+.5;i.a=o*i.a+(1-o)*r.a;this.rgb=i}return this}interpolate(n,t){return n&&(this._rgb=function(n,t,i){const r=di(yt(n.r)),u=di(yt(n.g)),f=di(yt(n.b));return{r:gt(ke(r+i*(di(yt(t.r))-r))),g:gt(ke(u+i*(di(yt(t.g))-u))),b:gt(ke(f+i*(di(yt(t.b))-f))),a:n.a+i*(t.a-n.a)}}(this._rgb,n._rgb,t)),this}clone(){return new au(this.rgb)}alpha(n){return this._rgb.a=gt(n),this}clearer(n){return this._rgb.a*=1-n,this}greyscale(){const n=this._rgb,t=hr(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=t,this}opaquer(n){return this._rgb.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return lu(this._rgb,2,n),this}darken(n){return lu(this._rgb,2,-n),this}saturate(n){return lu(this._rgb,1,n),this}desaturate(n){return lu(this._rgb,1,-n),this}rotate(n){return function(n,t){var i=pe(n);i[0]=ic(i[0]+t);i=be(i);n.r=i[0];n.g=i[1];n.b=i[2]}(this._rgb,n),this}}const lw=["x","y","borderWidth","radius","tension"],aw=["color","borderColor","backgroundColor"],oc=new Map;const sc={values:n=>f(n)?n:""+n,numeric(n,t,i){if(0===n)return"0";const s=this.chart.options.locale;let r,u=n;if(i.length>1){const t=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(t<.0001||t>1e15)&&(r="scientific");u=function(n,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&n!==Math.floor(n)&&(i=n-Math.floor(n)),i}(n,i)}const f=vt(Math.abs(u)),e=isNaN(f)?1:Math.max(Math.min(-1*Math.floor(f),20),0),o={notation:r,minimumFractionDigits:e,maximumFractionDigits:e};return Object.assign(o,this.options.ticks.format),gi(n,s,o)},logarithmic(n,t,i){if(0===n)return"0";const r=i[t].significand||n/Math.pow(10,Math.floor(vt(n)));return[1,2,3,5,10,15].includes(r)||t>.8*i.length?sc.numeric.call(this,n,t,i):""}};nr={formatters:sc};const oi=Object.create(null),ge=Object.create(null);class vw{constructor(n,t){this.animation=void 0;this.backgroundColor="rgba(0,0,0,0.1)";this.borderColor="rgba(0,0,0,0.1)";this.color="#666";this.datasets={};this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio();this.elements={};this.events=["mousemove","mouseout","click","touchstart","touchmove"];this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null};this.hover={};this.hoverBackgroundColor=(n,t)=>yu(t.backgroundColor);this.hoverBorderColor=(n,t)=>yu(t.borderColor);this.hoverColor=(n,t)=>yu(t.color);this.indexAxis="x";this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1};this.maintainAspectRatio=!0;this.onHover=null;this.onClick=null;this.parsing=!0;this.plugins={};this.responsive=!0;this.scale=void 0;this.scales={};this.showLine=!0;this.drawActiveElementsOnTop=!0;this.describe(n);this.apply(t)}set(n,t){return no(this,n,t)}get(n){return lr(this,n)}describe(n,t){return no(ge,n,t)}override(n,t){return no(oi,n,t)}route(i,r,u,f){const o=lr(this,i),s=lr(this,u),e="_"+r;Object.defineProperties(o,{[e]:{value:o[r],writable:!0},[r]:{enumerable:!0,get(){const i=this[e],r=s[f];return t(i)?Object.assign({},r,i):n(i,r)},set(n){this[e]=n}}})}apply(n){n.forEach(n=>n(this))}}s=new vw({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n});n.set("animations",{colors:{type:"color",properties:aw},numbers:{type:"number",properties:lw}});n.describe("animations",{_fallback:"animation"});n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}})},function(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});n.route("scale.ticks","color","","color");n.route("scale.grid","color","","borderColor");n.route("scale.border","color","","borderColor");n.route("scale.title","color","","color");n.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n&&"dash"!==n});n.describe("scales",{_fallback:"scale"});n.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n})}]);const ku=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);const yw=["top","right","bottom","left"];const pw=(n,t,i)=>(n>0||t>0)&&(!i||!i.shadowRoot);const du=n=>Math.round(10*n)/10;const lc=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};pu()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(n){}return n}();const kw=(n,t)=>n?n+uu(t):t,eo=(n,i)=>t(i)&&"adapters"!==n&&(null===Object.getPrototypeOf(i)||i.constructor===Object);const dw=(n,t)=>!0===n?t:"string"==typeof n?lt(t,n):void 0;const nb=Number.EPSILON||1e-14,ir=(n,t)=>t<n.length&&!n[t].skip&&n[t],nl=n=>"x"===n?"y":"x";const rf=n=>0===n||1===n,ul=(n,t,i)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*o/i),fl=(n,t,i)=>Math.pow(2,-10*n)*Math.sin((n-t)*o/i)+1,rr={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*c),easeOutSine:n=>Math.sin(n*c),easeInOutSine:n=>-.5*(Math.cos(e*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>rf(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>rf(n)?n:ul(n,.075,.3),easeOutElastic:n=>rf(n)?n:fl(n,.075,.3),easeInOutElastic(n){const t=.1125;return rf(n)?n:n<.5?.5*ul(2*n,t,.45):.5+.5*fl(2*n-1,t,.45)},easeInBack(n){const t=1.70158;return n*n*((t+1)*n-t)},easeOutBack(n){const t=1.70158;return(n-=1)*n*((t+1)*n+t)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-rr.easeOutBounce(1-n),easeOutBounce(n){const i=7.5625,t=2.75;return n<1/t?i*n*n:n<2/t?i*(n-=1.5/t)*n+.75:n<2.5/t?i*(n-=2.25/t)*n+.9375:i*(n-=2.625/t)*n+.984375},easeInOutBounce:n=>n<.5?.5*rr.easeInBounce(2*n):.5*rr.easeOutBounce(2*n-1)+.5};const tb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ib=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;const rb=n=>+n||0;pl=Object.freeze({__proto__:null,HALF_PI:c,INFINITY:sr,PI:e,PITAU:hh,QUARTER_PI:kt,RAD_PER_DEG:ch,TAU:o,TWO_THIRDS_PI:re,_addGrace:hl,_alignPixel:ti,_alignStartEnd:p,_angleBetween:ki,_angleDiff:vh,_arrayUnique:he,_attachContext:hi,_bezierCurveTo:pc,_bezierInterpolation:ol,_boundSegment:ao,_boundSegments:vo,_capitalize:uu,_computeSegments:al,_createResolver:nf,_decimalPlaces:ee,_deprecated:function(n,t,i,r){void 0!==t&&console.warn(n+': "'+i+'" is deprecated. Please use "'+r+'" instead')},_descriptors:fo,_elementsEqual:er,_factorize:lh,_filterBetween:wh,_getParentNode:wu,_getStartAndCountOfVisiblePoints:ae,_int16Range:yh,_isBetween:et,_isClickEvent:sh,_isDomSupported:pu,_isPointInArea:st,_limitValue:v,_longestText:vc,_lookup:ou,_lookupByKey:ot,_measureText:ar,_merger:uh,_mergerIf:fh,_normalizeAngle:k,_parseObjectDataRadialScale:so,_pointInLine:ri,_readValueToProps:uf,_rlookupByKey:ph,_scaleRangesChanged:ve,_setMinAndMaxByKey:fe,_splitKey:oh,_steppedInterpolation:el,_steppedLineTo:yc,_textX:gh,_toLeftRightCenter:su,_updateBezierControlPoints:rl,addRoundedRectPath:tr,almostEquals:bi,almostWhole:ah,callback:u,clearCanvas:ro,clipArea:vr,clone:or,color:de,createContext:pt,debounce:dh,defined:wi,distanceBetweenPoints:eu,drawPoint:gu,drawPointLegend:uo,each:r,easingEffects:rr,finiteOrDefault:b,fontString:function(n,t,i){return t+" "+n+"px "+i},formatNumber:gi,getAngleFromPoint:oe,getHoverColor:yu,getMaximumSize:cc,getRelativePosition:ni,getRtlAdapter:ci,getStyle:hc,isArray:f,isFinite:h,isFunction:at,isNullOrUndef:i,isNumber:ei,isObject:t,isPatternOrGradient:vu,listenArrayEvents:kh,log10:vt,merge:yi,mergeIf:pi,niceNum:ue,noop:ft,overrideTextDirection:co,readUsedSize:io,renderText:ii,requestAnimFrame:ce,resolve:ur,resolveObjectKey:lt,restoreTextDirection:lo,retinaScale:to,setsEqual:ie,sign:rt,splineCurve:tl,splineCurveMonotone:il,supportsEventListenerOptions:lc,throttled:le,toDegrees:fu,toDimension:te,toFont:a,toFontString:ac,toLineHeight:sl,toPadding:w,toPercentage:ih,toRadians:nt,toTRBL:ho,toTRBLCorners:ui,uid:th,unclipArea:yr,unlistenArrayEvents:se,valueOrDefault:n});wo={evaluateInteractionItems:pr,modes:{index(n,t,i,r){const u=ni(t,n),f=i.axis||"x",e=i.includeInvisible||!1,o=i.intersect?yo(n,u,f,r,e):po(n,u,f,!1,r,e),s=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(n=>{const i=o[0].index,t=n.data[i];t&&!t.skip&&s.push({element:t,datasetIndex:n.index,index:i})}),s):[]},dataset(n,t,i,r){const f=ni(t,n),e=i.axis||"xy",o=i.includeInvisible||!1;let u=i.intersect?yo(n,f,e,r,o):po(n,f,e,!1,r,o);if(u.length>0){const t=u[0].datasetIndex,i=n.getDatasetMeta(t).data;u=[];for(let n=0;n<i.length;++n)u.push({element:i[n],datasetIndex:t,index:n})}return u},point:(n,t,i,r)=>yo(n,ni(t,n),i.axis||"xy",r,i.includeInvisible||!1),nearest(n,t,i,r){const u=ni(t,n),f=i.axis||"xy",e=i.includeInvisible||!1;return po(n,u,f,i.intersect,r,e)},x:(n,t,i,r)=>wl(n,ni(t,n),"x",i.intersect,r),y:(n,t,i,r)=>wl(n,ni(t,n),"y",i.intersect,r)}};const bl=["left","top","right","bottom"];y={addBox(n,t){n.boxes||(n.boxes=[]);t.fullSize=t.fullSize||!1;t.position=t.position||"top";t.weight=t.weight||0;t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]};n.boxes.push(t)},removeBox(n,t){const i=n.boxes?n.boxes.indexOf(t):-1;-1!==i&&n.boxes.splice(i,1)},configure(n,t,i){t.fullSize=i.fullSize;t.position=i.position;t.weight=i.weight},update(n,t,i,u){if(n){const e=w(n.options.layout.padding),l=Math.max(t-e.width,0),a=Math.max(i-e.height,0),s=function(n){const t=function(n){const f=[];let t,e,i,r,u,o;for(t=0,e=(n||[]).length;t<e;++t)i=n[t],{position:r,options:{stack:u,stackWeight:o=1}}=i,f.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:u&&r+u,stackWeight:o});return f}(n),s=br(t.filter(n=>n.box.fullSize),!0),i=br(wr(t,"left"),!0),r=br(wr(t,"right")),u=br(wr(t,"top"),!0),f=br(wr(t,"bottom")),e=kl(t,"x"),o=kl(t,"y");return{fullSize:s,leftAndTop:i.concat(u),rightAndBottom:r.concat(o).concat(f).concat(e),chartArea:wr(t,"chartArea"),vertical:i.concat(r).concat(o),horizontal:u.concat(f).concat(e)}}(n.boxes),c=s.vertical,v=s.horizontal;r(n.boxes,n=>{"function"==typeof n.beforeLayout&&n.beforeLayout()});const p=c.reduce((n,t)=>t.box.options&&!1===t.box.options.display?n:n+1,0)||1,o=Object.freeze({outerWidth:t,outerHeight:i,padding:e,availableWidth:l,availableHeight:a,vBoxMaxWidth:l/2/p,hBoxMaxHeight:a/2}),y=Object.assign({},e);gl(y,w(u));const f=Object.assign({maxPadding:y,w:l,h:a,x:e.left,y:e.top},e),h=ob(c.concat(v),o);kr(s.fullSize,f,o,h);kr(c,f,o,h);kr(v,f,o,h)&&kr(c,f,o,h),function(n){function t(t){const r=Math.max(i[t]-n[t],0);return n[t]+=r,r}const i=n.maxPadding;n.y+=t("top");n.x+=t("left");t("right");t("bottom")}(f);na(s.leftAndTop,f,o,h);f.x+=f.w;f.y+=f.h;na(s.rightAndBottom,f,o,h);n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w};r(s.chartArea,t=>{const i=t.box;Object.assign(i,n.chartArea);i.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}}};class bo{acquireContext(){}releaseContext(){return!1}addEventListener(){}removeEventListener(){}getDevicePixelRatio(){return 1}getMaximumSize(n,t,i,r){return t=Math.max(0,t||n.width),i=i||n.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(){return!0}updateConfig(){}}class ta extends bo{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const ef="$chartjs",cb={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ia=n=>null===n||""===n,ra=!!lc&&{passive:!0};const dr=new Map;let ua=0;class ea extends bo{acquireContext(n,t){const i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(function(n,t){const i=n.style,r=n.getAttribute("height"),u=n.getAttribute("width");if(n[ef]={initial:{height:r,width:u,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ia(u)){const t=io(n,"width");void 0!==t&&(n.width=t)}if(ia(r))if(""===n.style.height)n.height=n.width/(t||2);else{const t=io(n,"height");void 0!==t&&(n.height=t)}}(n,t),i):null}releaseContext(n){const t=n.canvas;if(!t[ef])return!1;const r=t[ef].initial;["height","width"].forEach(n=>{const u=r[n];i(u)?t.removeAttribute(n):t.setAttribute(n,u)});const u=r.style||{};return Object.keys(u).forEach(n=>{t.style[n]=u[n]}),t.width=t.width,delete t[ef],!0}addEventListener(n,t,i){this.removeEventListener(n,t);const r=n.$proxies||(n.$proxies={}),u={attach:ab,detach:vb,resize:yb}[t]||pb;r[t]=u(n,t,i)}removeEventListener(n,t){const i=n.$proxies||(n.$proxies={}),r=i[t];r&&(({attach:ko,detach:ko,resize:ko}[t]||lb)(n,t,r),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,t,i,r){return cc(n,t,i,r)}isAttached(n){const t=n&&wu(n);return!(!t||!t.isConnected)}}go=Object.freeze({__proto__:null,BasePlatform:bo,BasicPlatform:ta,DomPlatform:ea,_detectPlatform:oa});const sa="transparent",wb={boolean:(n,t,i)=>i>.5?t:n,color(n,t,i){const u=de(n||sa),r=u.valid&&de(t||sa);return r&&r.valid?r.mix(u,i).hexString():t},number:(n,t,i)=>n+(t-n)*i};class ha{constructor(n,t,i,r){const u=t[i];r=ur([n.to,r,u,n.from]);const f=ur([n.from,u,r]);this._active=!0;this._fn=n.fn||wb[n.type||typeof f];this._easing=rr[n.easing]||rr.linear;this._start=Math.floor(Date.now()+(n.delay||0));this._duration=this._total=Math.floor(n.duration);this._loop=!!n.loop;this._target=t;this._prop=i;this._from=f;this._to=r;this._promises=void 0}active(){return this._active}update(n,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],u=i-this._start,f=this._duration-u;this._start=i;this._duration=Math.floor(Math.max(f,n.duration));this._total+=u;this._loop=!!n.loop;this._to=ur([n.to,t,r,n.from]);this._from=ur([n.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const i=n-this._start,e=this._duration,r=this._prop,u=this._from,o=this._loop,f=this._to;let t;if(this._active=u!==f&&(o||i<e),!this._active)return this._target[r]=f,void this._notify(!0);i<0?this._target[r]=u:(t=i/e%2,t=o&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[r]=this._fn(u,f,t))}wait(){const n=this._promises||(this._promises=[]);return new Promise((t,i)=>{n.push({res:t,rej:i})})}_notify(n){const i=n?"res":"rej",t=this._promises||[];for(let n=0;n<t.length;n++)t[n][i]()}}class ns{constructor(n,t){this._chart=n;this._properties=new Map;this.configure(t)}configure(n){if(t(n)){const r=Object.keys(s.animation),i=this._properties;Object.getOwnPropertyNames(n).forEach(u=>{const e=n[u];if(t(e)){const o={};for(const n of r)o[n]=e[n];(f(e.properties)&&e.properties||[u]).forEach(n=>{n!==u&&i.has(n)||i.set(n,o)})}})}}_animateOptions(n,t){const i=t.options,r=function(n,t){if(t){let i=n.options;return i?(i.$shared&&(n.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i):void(n.options=t)}}(n,i);if(!r)return[];const u=this._createAnimations(r,i);return i.$shared&&function(n,t){const i=[],r=Object.keys(t);for(let t=0;t<r.length;t++){const u=n[r[t]];u&&u.active()&&i.push(u.wait())}return Promise.all(i)}(n.options.$animations,i).then(()=>{n.options=i},()=>{}),u}_createAnimations(n,t){const e=this._properties,r=[],u=n.$animations||(n.$animations={}),f=Object.keys(t),o=Date.now();let i;for(i=f.length-1;i>=0;--i){const s=f[i];if("$"!==s.charAt(0)){if("options"===s){r.push(...this._animateOptions(n,t));continue}const l=t[s];let h=u[s];const c=e.get(s);if(h){if(c&&h.active()){h.update(c,l,o);continue}h.cancel()}c&&c.duration?(u[s]=h=new ha(c,n,s,l),r.push(h)):n[s]=l}}return r}update(n,t){if(0===this._properties.size)return void Object.assign(n,t);const i=this._createAnimations(n,t);if(i.length)return(ut.add(this._chart,i),!0)}}const rs=n=>"reset"===n||"none"===n,pa=(n,t)=>t?n:Object.assign({},n);class wt{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,t){this.chart=n;this._ctx=n.ctx;this.index=t;this._cachedDataOpts={};this._cachedMeta=this.getMeta();this._type=this._cachedMeta.type;this.options=void 0;this._parsing=!1;this._data=void 0;this._objectData=void 0;this._sharedOptions=void 0;this._drawStart=void 0;this._drawCount=void 0;this.enableOptionSharing=!1;this.supportsDecimation=!1;this.$context=void 0;this._syncList=[];this.datasetElementType=new.target.datasetElementType;this.dataElementType=new.target.dataElementType;this.initialize()}initialize(){const n=this._cachedMeta;this.configure();this.linkScales();n._stacked=ts(n.vScale,n);this.addElements();this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&gr(this._cachedMeta);this.index=n}linkScales(){const i=this.chart,t=this._cachedMeta,r=this.getDataset(),o=(n,t,i,r)=>"x"===n?t:"r"===n?r:i,u=t.xAxisID=n(r.xAxisID,is(i,"x")),f=t.yAxisID=n(r.yAxisID,is(i,"y")),e=t.rAxisID=n(r.rAxisID,is(i,"r")),s=t.indexAxis,h=t.iAxisID=o(s,u,f,e),c=t.vAxisID=o(s,f,u,e);t.xScale=this.getScaleForId(u);t.yScale=this.getScaleForId(f);t.rScale=this.getScaleForId(e);t.iScale=this.getScaleForId(h);t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){const t=this._cachedMeta;return n===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const n=this._cachedMeta;this._data&&se(this._data,this);n._stacked&&gr(n)}_dataCheck(){const r=this.getDataset(),n=r.data||(r.data=[]),i=this._data;if(t(n)){const t=this._cachedMeta;this._data=function(n,t){const{iScale:o,vScale:s}=t,h="x"===o.axis?"x":"y",c="x"===s.axis?"x":"y",r=Object.keys(n),f=new Array(r.length);let i,e,u;for(i=0,e=r.length;i<e;++i)u=r[i],f[i]={[h]:u,[c]:n[u]};return f}(n,t)}else if(i!==n){if(i){se(i,this);const n=this._cachedMeta;gr(n);n._parsed=[]}n&&Object.isExtensible(n)&&kh(n,this);this._syncList=[];this._data=n}}addElements(){const n=this._cachedMeta;this._dataCheck();this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const u=t._stacked;t._stacked=ts(t.vScale,t);t.stack!==i.stack&&(r=!0,gr(t),t.stack=i.stack);this._resyncElements(n);(r||u!==t._stacked)&&(ya(this,t._parsed),t._stacked=ts(t.vScale,t))}configure(){const n=this.chart.config,t=n.datasetScopeKeys(this._type),i=n.getOptionScopes(this.getDataset(),t,!0);this.options=n.createResolver(i,this.getContext());this._parsing=this.options.parsing;this._cachedDataOpts={}}parse(n,i){const{_cachedMeta:r,_data:u}=this,{iScale:a,_stacked:v}=r,h=a.axis;let e,o,s,c=0===n&&i===u.length||r._sorted,l=n>0&&r._parsed[n-1];if(!1===this._parsing)r._parsed=u,r._sorted=!0,s=u;else{s=f(u[n])?this.parseArrayData(r,u,n,i):t(u[n])?this.parseObjectData(r,u,n,i):this.parsePrimitiveData(r,u,n,i);const a=()=>null===o[h]||l&&o[h]<l[h];for(e=0;e<i;++e)r._parsed[e+n]=o=s[e],c&&(a()&&(c=!1),l=o);r._sorted=c}v&&ya(this,s)}parsePrimitiveData(n,t,i,r){const{iScale:e,vScale:o}=n,c=e.axis,l=o.axis,a=e.getLabels(),v=e===o,s=new Array(r);let u,h,f;for(u=0,h=r;u<h;++u)f=u+i,s[u]={[c]:v||e.parse(a[f],f),[l]:o.parse(t[f],f)};return s}parseArrayData(n,t,i,r){const{xScale:h,yScale:c}=n,o=new Array(r);let u,s,f,e;for(u=0,s=r;u<s;++u)f=u+i,e=t[f],o[u]={x:h.parse(e[0],f),y:c.parse(e[1],f)};return o}parseObjectData(n,t,i,r){const{xScale:h,yScale:c}=n,{xAxisKey:l="x",yAxisKey:a="y"}=this._parsing,o=new Array(r);let u,s,f,e;for(u=0,s=r;u<s;++u)f=u+i,e=t[f],o[u]={x:h.parse(lt(e,l),f),y:c.parse(lt(e,a),f)};return o}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,t,i){const r=this.chart,u=this._cachedMeta,f=t[n.axis];return aa({keys:la(r,!0),values:t._stacks[n.axis]._visualValues},f,u.index,{mode:i})}updateRangeFromParsed(n,t,i,r){const u=i[t.axis];let f=null===u?NaN:u;const e=r&&i._stacks[t.axis];r&&e&&(r.values=e,f=aa(r,u,this._cachedMeta.index));n.min=Math.min(n.min,f);n.max=Math.max(n.max,f)}getMinMax(n,t){function a(){r=e[i];const t=r[c.axis];return!h(r[n.axis])||v>t||y<t}const u=this._cachedMeta,e=u._parsed,o=u._sorted&&n===u.iScale,s=e.length,c=this._getOtherScale(n),l=((n,t,i)=>n&&!t.hidden&&t._stacked&&{keys:la(i,!0),values:null})(t,u,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:v,max:y}=function(n){const{min:t,max:i,minDefined:r,maxDefined:u}=n.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:u?i:Number.POSITIVE_INFINITY}}(c);let i,r;for(i=0;i<s&&(a()||(this.updateRangeFromParsed(f,n,r,l),!o));++i);if(o)for(i=s-1;i>=0;--i)if(!a()){this.updateRangeFromParsed(f,n,r,l);break}return f}getAllParsedValues(n){const r=this._cachedMeta._parsed,u=[];let t,f,i;for(t=0,f=r.length;t<f;++t)i=r[t][n.axis],h(i)&&u.push(i);return u}getMaxOverflow(){return!1}getLabelAndValue(n){const r=this._cachedMeta,t=r.iScale,i=r.vScale,u=this.getParsed(n);return{label:t?""+t.getLabelForValue(u[t.axis]):"",value:i?""+i.getLabelForValue(u[i.axis]):""}}_update(i){const r=this._cachedMeta;this.update(i||"default");r._clip=function(n){let i,r,u,f;return t(n)?(i=n.top,r=n.right,u=n.bottom,f=n.left):i=r=u=f=n,{top:i,right:r,bottom:u,left:f,disabled:!1===n}}(n(this.options.clip,function(n,t,i){if(!1===i)return!1;const r=ca(n,i),u=ca(t,i);return{top:u.end,right:r.end,bottom:u.start,left:r.start}}(r.xScale,r.yScale,this.getMaxOverflow())))}update(){}draw(){const i=this._ctx,s=this.chart,r=this._cachedMeta,e=r.data||[],u=s.chartArea,f=[],t=this._drawStart||0,o=this._drawCount||e.length-t,h=this.options.drawActiveElementsOnTop;let n;for(r.dataset&&r.dataset.draw(i,u,t,o),n=t;n<t+o;++n){const t=e[n];t.hidden||(t.active&&h?f.push(t):t.draw(i,u))}for(n=0;n<f.length;++n)f[n].draw(i,u)}getStyle(n,t){const i=t?"active":"default";return void 0===n&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(n||0,i)}getContext(n,t,i){const u=this.getDataset();let r;if(n>=0&&n<this._cachedMeta.data.length){const t=this._cachedMeta.data[n];r=t.$context||(t.$context=function(n,t,i){return pt(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}(this.getContext(),n,t));r.parsed=this.getParsed(n);r.raw=u.data[n];r.index=r.dataIndex=n}else r=this.$context||(this.$context=function(n,t){return pt(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=u,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,t){return this._resolveElementOptions(this.dataElementType.id,t,n)}_resolveElementOptions(n,t="default",i){const e="active"===t,o=this._cachedDataOpts,h=n+"-"+t,c=o[h],u=this.enableOptionSharing&&wi(i);if(c)return pa(c,u);const f=this.chart.config,l=f.datasetElementScopeKeys(this._type,n),a=e?[`${n}Hover`,"hover",n,""]:[n,""],v=f.getOptionScopes(this.getDataset(),l),y=Object.keys(s.elements[n]),r=f.resolveNamedOptions(v,y,()=>this.getContext(i,e,t),a);return r.$shared&&(r.$shared=u,o[h]=Object.freeze(pa(r,u))),r}_resolveAnimations(n,t,i){const u=this.chart,f=this._cachedDataOpts,e=`animation-${t}`,o=f[e];if(o)return o;let r;if(!1!==u.options.animation){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,t),e=u.getOptionScopes(this.getDataset(),f);r=u.createResolver(e,this.getContext(n,i,t))}const s=new ns(u,r&&r.animations);return r&&r._cacheable&&(f[e]=Object.freeze(s)),s}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,t){return!t||rs(n)||this.chart._animationsDisabled}_getSharedOptions(n,t){const r=this.resolveDataElementOptions(n,t),u=this._sharedOptions,i=this.getSharedOptions(r),f=this.includeOptions(t,i)||i!==u;return this.updateSharedOptions(i,t,r),{sharedOptions:i,includeOptions:f}}updateElement(n,t,i,r){rs(r)?Object.assign(n,i):this._resolveAnimations(t,r).update(n,i)}updateSharedOptions(n,t,i){n&&!rs(t)&&this._resolveAnimations(void 0,t).update(n,i)}_setStyle(n,t,i,r){n.active=r;const u=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(n,{options:!r&&this.getSharedOptions(u)||u})}removeHoverStyle(n,t,i){this._setStyle(n,i,"active",!1)}setHoverStyle(n,t,i){this._setStyle(n,i,"active",!0)}_removeDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){const u=this._data,f=this._cachedMeta.data;for(const[n,t,i]of this._syncList)this[n](t,i);this._syncList=[];const t=f.length,i=u.length,r=Math.min(i,t);r&&this.parse(0,r);i>t?this._insertElements(t,i-t,n):i<t&&this._removeElements(i,t-i)}_insertElements(n,t,i=!0){const f=this._cachedMeta,u=f.data,e=n+t;let r;const o=n=>{for(n.length+=t,r=n.length-1;r>=e;r--)n[r]=n[r-t]};for(o(u),r=n;r<e;++r)u[r]=new this.dataElementType;this._parsing&&o(f._parsed);this.parse(n,t);i&&this.updateElements(u,n,t,"reset")}updateElements(){}_removeElements(n,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(n,t);i._stacked&&gr(i,r)}i.data.splice(n,t)}_sync(n){if(this._parsing)this._syncList.push(n);else{const[t,i,r]=n;this[t](i,r)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){const n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,t){t&&this._sync(["_removeElements",n,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",n,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class ht{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){const{x:t,y:i}=this.getProps(["x","y"],n);return{x:t,y:i}}hasValue(){return ei(this.x)&&ei(this.y)}getProps(n,t){const i=this.$animations;if(!t||!i)return this;const r={};return n.forEach(n=>{r[n]=i[n]&&i[n].active()?i[n]._to:this[n]}),r}}const wa=(n,t,i)=>"top"===t||"left"===t?n[t]+i:n[t]-i,ba=(n,t)=>Math.min(t||n,n);class li extends ht{constructor(n){super();this.id=n.id;this.type=n.type;this.options=void 0;this.ctx=n.ctx;this.chart=n.chart;this.top=void 0;this.bottom=void 0;this.left=void 0;this.right=void 0;this.width=void 0;this.height=void 0;this._margins={left:0,right:0,top:0,bottom:0};this.maxWidth=void 0;this.maxHeight=void 0;this.paddingTop=void 0;this.paddingBottom=void 0;this.paddingLeft=void 0;this.paddingRight=void 0;this.axis=void 0;this.labelRotation=void 0;this.min=void 0;this.max=void 0;this._range=void 0;this.ticks=[];this._gridLineItems=null;this._labelItems=null;this._labelSizes=null;this._length=0;this._maxLength=0;this._longestTextCache={};this._startPixel=void 0;this._endPixel=void 0;this._reversePixels=!1;this._userMax=void 0;this._userMin=void 0;this._suggestedMax=void 0;this._suggestedMin=void 0;this._ticksLength=0;this._borderValue=0;this._cache={};this._dataLimitsCached=!1;this.$context=void 0}init(n){this.options=n.setContext(this.getContext());this.axis=n.axis;this._userMin=this.parse(n.min);this._userMax=this.parse(n.max);this._suggestedMin=this.parse(n.suggestedMin);this._suggestedMax=this.parse(n.suggestedMax)}parse(n){return n}getUserBounds(){let{_userMin:n,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return n=b(n,Number.POSITIVE_INFINITY),t=b(t,Number.NEGATIVE_INFINITY),i=b(i,Number.POSITIVE_INFINITY),r=b(r,Number.NEGATIVE_INFINITY),{min:b(n,i),max:b(t,r),minDefined:h(n),maxDefined:h(t)}}getMinMax(n){let r,{min:t,max:i,minDefined:u,maxDefined:f}=this.getUserBounds();if(u&&f)return{min:t,max:i};const e=this.getMatchingVisibleMetas();for(let o=0,s=e.length;o<s;++o)r=e[o].controller.getMinMax(this,n),u||(t=Math.min(t,r.min)),f||(i=Math.max(i,r.max));return t=f&&t>i?i:t,i=u&&t>i?t:i,{min:b(t,b(i,t)),max:b(i,b(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={};this._dataLimitsCached=!1}beforeUpdate(){u(this.options.beforeUpdate,[this])}update(n,t,i){const{beginAtZero:e,grace:o,ticks:r}=this.options,u=r.sampleSize;this.beforeUpdate();this.maxWidth=n;this.maxHeight=t;this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i);this.ticks=null;this._labelSizes=null;this._gridLineItems=null;this._labelItems=null;this.beforeSetDimensions();this.setDimensions();this.afterSetDimensions();this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom;this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hl(this,o,e),this._dataLimitsCached=!0);this.beforeBuildTicks();this.ticks=this.buildTicks()||[];this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?ka(this.ticks,u):this.ticks);this.configure();this.beforeCalculateLabelRotation();this.calculateLabelRotation();this.afterCalculateLabelRotation();r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=kb(this,this.ticks),this._labelSizes=null,this.afterAutoSkip());f&&this._convertTicksToLabels(this.ticks);this.beforeFit();this.fit();this.afterFit();this.afterUpdate()}configure(){let n,t,i=this.options.reverse;this.isHorizontal()?(n=this.left,t=this.right):(n=this.top,t=this.bottom,i=!i);this._startPixel=n;this._endPixel=t;this._reversePixels=i;this._length=t-n;this._alignToPixels=this.options.alignToPixels}afterUpdate(){u(this.options.afterUpdate,[this])}beforeSetDimensions(){u(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height);this.paddingLeft=0;this.paddingTop=0;this.paddingRight=0;this.paddingBottom=0}afterSetDimensions(){u(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext());u(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){u(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const f=this.options.ticks;let t,r,i;for(t=0,r=n.length;t<r;t++)i=n[t],i.label=u(f.callback,[i.value,t,n],this)}afterTickToLabelConversion(){u(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){u(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,t=n.ticks,i=ba(this.ticks.length,n.ticks.maxTicksLimit),r=t.minRotation||0,c=t.maxRotation;let u,l,o,f=r;if(!this._isVisible()||!t.display||r>=c||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const s=this._getLabelSizes(),e=s.widest.width,h=s.highest.height,a=v(this.chart.width-e,0,this.maxWidth);u=n.offset?this.maxWidth/i:a/(i-1);e+6>u&&(u=a/(i-(n.offset?.5:1)),l=this.maxHeight-nu(n.grid)-t.padding-da(n.title,this.chart.options.font),o=Math.sqrt(e*e+h*h),f=fu(Math.min(Math.asin(v((s.highest.height+6)/u,-1,1)),Math.asin(v(l/o,-1,1))-Math.asin(v(h/o,-1,1)))),f=Math.max(r,Math.min(c,f)));this.labelRotation=f}afterCalculateLabelRotation(){u(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){u(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:i,options:{ticks:t,title:f,grid:u}}=this,e=this._isVisible(),r=this.isHorizontal();if(e){const e=da(f,i.options.font);if(r?(n.width=this.maxWidth,n.height=nu(u)+e):(n.height=this.maxHeight,n.width=nu(u)+e),t.display&&this.ticks.length){const{first:h,last:c,widest:f,highest:e}=this._getLabelSizes(),o=2*t.padding,s=nt(this.labelRotation),i=Math.cos(s),u=Math.sin(s);if(r){const r=t.mirror?0:u*f.width+i*e.height;n.height=Math.min(this.maxHeight,n.height+r+o)}else{const r=t.mirror?0:i*f.width+u*e.height;n.width=Math.min(this.maxWidth,n.width+r+o)}this._calculatePadding(h,c,u,i)}}this._handleMargins();r?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,t,i,r){const{ticks:{align:u,padding:f},position:e}=this.options,o=0!==this.labelRotation,s="top"!==e&&"x"===this.axis;if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let e=0,h=0;o?s?(e=r*n.width,h=i*t.height):(e=i*n.height,h=r*t.width):"start"===u?h=t.width:"end"===u?e=n.width:"inner"!==u&&(e=n.width/2,h=t.width/2);this.paddingLeft=Math.max((e-c+f)*this.width/(this.width-c),0);this.paddingRight=Math.max((h-l+f)*this.width/(this.width-l),0)}else{let i=t.height/2,r=n.height/2;"start"===u?(i=0,r=n.height):"end"===u&&(i=t.height,r=0);this.paddingTop=i+f;this.paddingBottom=r+f}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){u(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return"top"===n||"bottom"===n||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(n),t=0,r=n.length;t<r;t++)i(n[t].label)&&(n.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const i=this.options.ticks.sampleSize;let t=this.ticks;i<t.length&&(t=ka(t,i));this._labelSizes=n=this._computeLabelSizes(t,t.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,t,u){const{ctx:w,_longestTextCache:b}=this,l=[],a=[],rt=Math.floor(t/ba(t,u));let s,v,it,e,k,d,h,g,o,c,y,nt=0,tt=0;for(s=0;s<t;s+=rt){if(e=n[s].label,k=this._resolveTickFontOptions(s),w.font=d=k.string,h=b[d]=b[d]||{data:{},gc:[]},g=k.lineHeight,o=c=0,i(e)||f(e)){if(f(e))for(v=0,it=e.length;v<it;++v)y=e[v],i(y)||f(y)||(o=ar(w,h.data,h.gc,o,y),c+=g)}else o=ar(w,h.data,h.gc,o,e),c=g;l.push(o);a.push(c);nt=Math.max(o,nt);tt=Math.max(c,tt)}!function(n,t){r(n,n=>{const r=n.gc,u=r.length/2;let i;if(u>t){for(i=0;i<u;++i)delete n.data[r[i]];r.splice(0,u)}})}(b,t);const ut=l.indexOf(nt),ft=a.indexOf(tt),p=n=>({width:l[n]||0,height:a[n]||0});return{first:p(0),last:p(t-1),widest:p(ut),highest:p(ft),widths:l,heights:a}}getLabelForValue(n){return n}getPixelForValue(){return NaN}getValueForPixel(){}getPixelForTick(n){const t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const t=this._startPixel+n*this._length;return yh(this._alignToPixels?ti(this.chart,t,0):t)}getDecimalForPixel(n){const t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:t}=this;return n<0&&t<0?t:n>0&&t>0?n:0}getContext(n){const t=this.ticks||[];if(n>=0&&n<t.length){const i=t[n];return i.$context||(i.$context=function(n,t,i){return pt(n,{tick:i,index:t,type:"tick"})}(this.getContext(),n,i))}return this.$context||(this.$context=pt(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const o=this.options.ticks,f=nt(this.labelRotation),n=Math.abs(Math.cos(f)),t=Math.abs(Math.sin(f)),i=this._getLabelSizes(),e=o.autoSkipPadding||0,r=i?i.widest.width+e:0,u=i?i.highest.height+e:0;return this.isHorizontal()?u*n>r*t?r/n:u/t:u*t<r*n?u/n:r/t}_isVisible(){const n=this.options.display;return"auto"!==n?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const nt=this.axis,tt=this.chart,it=this.options,{grid:k,position:u,border:rt}=it,ut=k.offset,st=this.isHorizontal(),b=this.ticks.length+(ut?1:0),o=nu(k),ft=[],et=rt.setContext(this.getContext()),ot=et.display?et.width:0,e=ot/2,f=function(n){return ti(tt,n,ot)};let r,c,d,g,s,h,l,a,v,y,p,w;if("top"===u)r=f(this.bottom),h=this.bottom-o,a=r-e,y=f(i.top)+e,w=i.bottom;else if("bottom"===u)r=f(this.top),y=i.top,w=f(i.bottom)-e,h=r+e,a=this.top+o;else if("left"===u)r=f(this.right),s=this.right-o,l=r-e,v=f(i.left)+e,p=i.right;else if("right"===u)r=f(this.left),v=i.left,p=f(i.right)-e,s=r+e,l=this.left+o;else if("x"===nt){if("center"===u)r=f((i.top+i.bottom)/2+.5);else if(t(u)){const n=Object.keys(u)[0],t=u[n];r=f(this.chart.scales[n].getPixelForValue(t))}y=i.top;w=i.bottom;h=r+e;a=h+o}else if("y"===nt){if("center"===u)r=f((i.left+i.right)/2);else if(t(u)){const n=Object.keys(u)[0],t=u[n];r=f(this.chart.scales[n].getPixelForValue(t))}s=r-e;l=s-o;v=i.left;p=i.right}const ht=n(it.ticks.maxTicksLimit,b),ct=Math.max(1,Math.ceil(b/ht));for(c=0;c<b;c+=ct){const t=this.getContext(c),n=k.setContext(t),i=rt.setContext(t),r=n.lineWidth,u=n.color,f=i.dash||[],e=i.dashOffset,o=n.tickWidth,b=n.tickColor,nt=n.tickBorderDash||[],it=n.tickBorderDashOffset;d=db(this,c,ut);void 0!==d&&(g=ti(tt,d,r),st?s=l=v=p=g:h=a=y=w=g,ft.push({tx1:s,ty1:h,tx2:l,ty2:a,x1:v,y1:y,x2:p,y2:w,width:r,color:u,borderDash:f,borderDashOffset:e,tickWidth:o,tickColor:b,tickBorderDash:nt,tickBorderDashOffset:it}))}return this._ticksLength=b,this._borderValue=r,ft}_computeLabelItems(n){const g=this.axis,ut=this.options,{position:i,ticks:tt}=ut,at=this.isHorizontal(),ft=this.ticks,{align:et,crossAlign:v,padding:ot,mirror:st}=tt,y=nu(ut.grid),p=y+ot,ht=st?-ot:p,c=-nt(this.labelRotation),ct=[];let r,b,lt,k,o,s,e,it,rt,u,l,a,d="middle";if("top"===i)s=this.bottom-ht,e=this._getXAxisLabelAlignment();else if("bottom"===i)s=this.top+ht,e=this._getXAxisLabelAlignment();else if("left"===i){const n=this._getYAxisLabelAlignment(y);e=n.textAlign;o=n.x}else if("right"===i){const n=this._getYAxisLabelAlignment(y);e=n.textAlign;o=n.x}else if("x"===g){if("center"===i)s=(n.top+n.bottom)/2+p;else if(t(i)){const n=Object.keys(i)[0],t=i[n];s=this.chart.scales[n].getPixelForValue(t)+p}e=this._getXAxisLabelAlignment()}else if("y"===g){if("center"===i)o=(n.left+n.right)/2-p;else if(t(i)){const n=Object.keys(i)[0],t=i[n];o=this.chart.scales[n].getPixelForValue(t)}e=this._getYAxisLabelAlignment(y).textAlign}"y"===g&&("start"===et?d="top":"end"===et&&(d="bottom"));const h=this._getLabelSizes();for(r=0,b=ft.length;r<b;++r){lt=ft[r];k=lt.label;const n=tt.setContext(this.getContext(r));it=this.getPixelForTick(r)+tt.labelOffset;rt=this._resolveTickFontOptions(r);u=rt.lineHeight;l=f(k)?k.length:1;const t=l/2,g=n.color,nt=n.textStrokeColor,ut=n.textStrokeWidth;let y,p=e;if(at?(o=it,"inner"===e&&(p=r===b-1?this.options.reverse?"left":"right":0===r?this.options.reverse?"right":"left":"center"),a="top"===i?"near"===v||0!==c?-l*u+u/2:"center"===v?-h.highest.height/2-t*u+u:-h.highest.height+u/2:"near"===v||0!==c?u/2:"center"===v?h.highest.height/2-t*u:h.highest.height-l*u,st&&(a*=-1),0===c||n.showLabelBackdrop||(o+=u/2*Math.sin(c))):(s=it,a=(1-l)*u/2),n.showLabelBackdrop){const u=w(n.backdropPadding),f=h.heights[r],t=h.widths[r];let o=a-u.top,i=0-u.left;switch(d){case"middle":o-=f/2;break;case"bottom":o-=f}switch(e){case"center":i-=t/2;break;case"right":i-=t;break;case"inner":r===b-1?i-=t:r>0&&(i-=t/2)}y={left:i,top:o,width:t+u.width,height:f+u.height,color:n.backdropColor}}ct.push({label:k,font:rt,textOffset:a,options:{rotation:c,color:g,strokeColor:nt,strokeWidth:ut,textAlign:p,textBaseline:d,translation:[o,s],backdrop:y}})}return ct}_getXAxisLabelAlignment(){const{position:i,ticks:t}=this.options;if(-nt(this.labelRotation))return"top"===i?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(n){const{position:e,ticks:{crossAlign:r,mirror:o,padding:f}}=this.options,s=n+f,u=this._getLabelSizes().widest.width;let t,i;return"left"===e?o?(i=this.right+f,"near"===r?t="left":"center"===r?(t="center",i+=u/2):(t="right",i+=u)):(i=this.right-s,"near"===r?t="right":"center"===r?(t="center",i-=u/2):(t="left",i=this.left)):"right"===e?o?(i=this.left+f,"near"===r?t="right":"center"===r?(t="center",i-=u/2):(t="left",i-=u)):(i=this.left+s,"near"===r?t="left":"center"===r?(t="center",i+=u/2):(t="right",i=this.right)):t="right",{textAlign:t,x:i}}_computeLabelArea(){if(!this.options.ticks.mirror){const t=this.chart,n=this.options.position;return"left"===n||"right"===n?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===n||"bottom"===n?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}}drawBackground(){const{ctx:n,options:{backgroundColor:t},left:i,top:r,width:u,height:f}=this;t&&(n.save(),n.fillStyle=t,n.fillRect(i,r,u,f),n.restore())}getLineWidthForValue(n){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(t=>t.value===n);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(n){const r=this.options.grid,t=this.ctx,u=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let i,f;const e=(n,i,r)=>{r.width&&r.color&&(t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(i.x,i.y),t.stroke(),t.restore())};if(r.display)for(i=0,f=u.length;i<f;++i){const n=u[i];r.drawOnChartArea&&e({x:n.x1,y:n.y1},{x:n.x2,y:n.y2},n);r.drawTicks&&e({x:n.tx1,y:n.ty1},{x:n.tx2,y:n.ty2},{color:n.tickColor,width:n.tickWidth,borderDash:n.tickBorderDash,borderDashOffset:n.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:n,options:{border:h,grid:l}}=this,u=h.setContext(this.getContext()),t=h.display?u.width:0;if(t){const r=l.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let f,e,o,s;this.isHorizontal()?(f=ti(i,this.left,t)-t/2,e=ti(i,this.right,r)+r/2,o=s=c):(o=ti(i,this.top,t)-t/2,s=ti(i,this.bottom,r)+r/2,f=e=c);n.save();n.lineWidth=u.width;n.strokeStyle=u.color;n.beginPath();n.moveTo(f,o);n.lineTo(e,s);n.stroke();n.restore()}}drawLabels(n){if(this.options.ticks.display){const t=this.ctx,i=this._computeLabelArea();i&&vr(t,i);const r=this.getLabelItems(n);for(const n of r){const i=n.options,r=n.font;ii(t,n.label,0,n.textOffset,r,i)}i&&yr(t)}}drawTitle(){const{ctx:s,options:{position:i,title:n,reverse:h}}=this;if(n.display){const u=a(n.font),e=w(n.padding),o=n.align;let r=u.lineHeight/2;"bottom"===i||"center"===i||t(i)?(r+=e.bottom,f(n.text)&&(r+=u.lineHeight*(n.text.length-1))):r+=e.top;const{titleX:l,titleY:v,maxWidth:y,rotation:b}=function(n,i,r,u){const{top:l,left:s,bottom:a,right:h,chart:d}=n,{chartArea:f,scales:v}=d;let y,e,o,w=0;const b=a-l,k=h-s;if(n.isHorizontal()){if(e=p(u,s,h),t(r)){const n=Object.keys(r)[0],t=r[n];o=v[n].getPixelForValue(t)+b-i}else o="center"===r?(f.bottom+f.top)/2+b-i:wa(n,r,i);y=h-s}else{if(t(r)){const n=Object.keys(r)[0],t=r[n];e=v[n].getPixelForValue(t)-k+i}else e="center"===r?(f.left+f.right)/2-k+i:wa(n,r,i);o=p(u,a,l);w="left"===r?-c:c}return{titleX:e,titleY:o,maxWidth:y,rotation:w}}(this,r,i,o);ii(s,n.text,0,0,u,{color:n.color,maxWidth:y,rotation:b,textAlign:gb(o,i,h),textBaseline:"middle",translation:[l,v]})}}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,r=n(t.grid&&t.grid.z,-1),u=n(t.border&&t.border.z,0);return this._isVisible()&&this.draw===li.prototype.draw?[{z:r,draw:n=>{this.drawBackground(),this.drawGrid(n),this.drawTitle()}},{z:u,draw:()=>{this.drawBorder()}},{z:i,draw:n=>{this.drawLabels(n)}}]:[{z:i,draw:n=>{this.draw(n)}}]}getMatchingVisibleMetas(n){const i=this.chart.getSortedVisibleDatasetMetas(),f=this.axis+"AxisID",r=[];let t,u;for(t=0,u=i.length;t<u;++t){const u=i[t];u[f]!==this.id||n&&u.type!==n||r.push(u)}return r}_resolveTickFontOptions(n){return a(this.options.ticks.setContext(this.getContext(n)).font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class cf{constructor(n,t,i){this.type=n;this.scope=t;this.override=i;this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const i=Object.getPrototypeOf(n);let r;(function(n){return"id"in n&&"defaults"in n})(i)&&(r=this.register(i));const u=this.items,t=n.id,f=this.scope+"."+t;if(!t)throw new Error("class does not have id: "+n);return t in u||(u[t]=n,function(n,t,i){const r=yi(Object.create(null),[i?s.get(i):{},s.get(t),n.defaults]);s.set(t,r);n.defaultRoutes&&function(n,t){Object.keys(t).forEach(i=>{const r=i.split("."),f=r.pop(),e=[n].concat(r).join("."),u=t[i].split("."),o=u.pop(),h=u.join(".");s.route(e,f,h,o)})}(t,n.defaultRoutes);n.descriptors&&s.describe(t,n.descriptors)}(n,f,r),this.override&&s.override(n.id,n.overrides)),f}get(n){return this.items[n]}unregister(n){const r=this.items,t=n.id,i=this.scope;t in r&&delete r[t];i&&t in s[i]&&(delete s[i][t],this.override&&delete oi[t])}}class nk{constructor(){this.controllers=new cf(wt,"datasets",!0);this.elements=new cf(ht,"elements");this.plugins=new cf(Object,"plugins");this.scales=new cf(li,"scales");this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,t,i){[...t].forEach(t=>{const u=i||this._getRegistryForType(t);i||u.isForType(t)||u===this.plugins&&t.id?this._exec(n,u,t):r(t,t=>{const r=i||this._getRegistryForType(t);this._exec(n,r,t)})})}_exec(n,t,i){const r=uu(n);u(i["before"+r],[],i);t[n](i);u(i["after"+r],[],i)}_getRegistryForType(n){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(n))return i}return this.plugins}_get(n,t,i){const r=t.get(n);if(void 0===r)throw new Error('"'+n+'" is not a registered '+i+".");return r}}it=new nk;class tk{constructor(){this._init=[]}notify(n,t,i,r){"beforeInit"===t&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));const u=r?this._descriptors(n).filter(r):this._descriptors(n),f=this._notify(u,n,t,i);return"afterDestroy"===t&&(this._notify(u,n,"stop"),this._notify(this._init,n,"uninstall")),f}_notify(n,t,i,r){r=r||{};for(const f of n){const n=f.plugin;if(!1===u(n[i],[t,r,f.options],n)&&r.cancelable)return!1}return!0}invalidate(){i(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}_createDescriptors(t,i){const r=t&&t.config,u=n(r.options&&r.options.plugins,{}),f=function(n){const i={},t=[],r=Object.keys(it.plugins.items);for(let n=0;n<r.length;n++)t.push(it.getPlugin(r[n]));const u=n.plugins||[];for(let n=0;n<u.length;n++){const r=u[n];-1===t.indexOf(r)&&(t.push(r),i[r.id]=!0)}return{plugins:t,localIds:i}}(r);return!1!==u||i?function(n,{plugins:t,localIds:i},r,u){const f=[],e=n.getContext();for(const o of t){const t=o.id,s=ik(r[t],u);null!==s&&f.push({plugin:o,options:rk(n.config,{plugin:o,local:i[t]},s,e)})}return f}(t,f,u,i):[]}_notifyStateChanges(n){const t=this._oldCache||[],i=this._cache,r=(n,t)=>n.filter(n=>!t.some(t=>n.plugin.id===t.plugin.id));this._notify(r(t,i),n,"stop");this._notify(r(i,t),n,"start")}}const rv=new Map,uv=new Set;const tu=(n,t,i)=>{const r=lt(t,i);void 0!==r&&n.add(r)};class fk{constructor(n){this._config=function(n){return(n=n||{}).data=iv(n.data),tv(n),n}(n);this._scopeCache=new Map;this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=iv(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache();tv(n)}clearCache(){this._scopeCache.clear();this._resolverCache.clear()}datasetScopeKeys(n){return lf(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,t){return lf(`${n}.transition.${t}`,()=>[[`datasets.${n}.transitions.${t}`,`transitions.${t}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,t){return lf(`${n}-${t}`,()=>[[`datasets.${n}.elements.${t}`,`datasets.${n}`,`elements.${t}`,""]])}pluginScopeKeys(n){const t=n.id;return lf(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,t){const r=this._scopeCache;let i=r.get(n);return i&&!t||(i=new Map,r.set(n,i)),i}getOptionScopes(n,t,i){const{options:o,type:h}=this,f=this._cachedScopes(n,i),e=f.get(t);if(e)return e;const r=new Set;t.forEach(t=>{n&&(r.add(n),t.forEach(t=>tu(r,n,t))),t.forEach(n=>tu(r,o,n)),t.forEach(n=>tu(r,oi[h]||{},n)),t.forEach(n=>tu(r,s,n)),t.forEach(n=>tu(r,ge,n))});const u=Array.from(r);return 0===u.length&&u.push(Object.create(null)),uv.has(t)&&f.set(t,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,oi[n]||{},s.datasets[n]||{},{type:n},s,ge]}resolveNamedOptions(n,t,i,r=[""]){const u={$shared:!0},{resolver:e,subPrefixes:s}=fv(this._resolverCache,n,r);let o=e;(function(n,t){const{isScriptable:i,isIndexable:r}=fo(n);for(const u of t){const e=i(u),o=r(u),t=(o||e)&&n[u];if(e&&(at(t)||ek(t))||o&&f(t))return!0}return!1})(e,t)&&(u.$shared=!1,o=hi(e,i=at(i)?i():i,this.createResolver(n,i,s)));for(const n of t)u[n]=o[n];return u}createResolver(n,i,r=[""],u){const{resolver:f}=fv(this._resolverCache,n,r);return t(i)?hi(f,i,void 0,u):f}}const ek=n=>t(n)&&Object.getOwnPropertyNames(n).some(t=>at(n[t])),ok=["top","bottom","left","right","chartArea"];const af={},cv=n=>{const t=hv(n);return Object.values(af).filter(n=>n.canvas===t).pop()};class l{static defaults=s;static instances=af;static overrides=oi;static registry=it;static version="4.4.5";static getChart=cv;static register(...n){it.add(...n);lv()}static unregister(...n){it.remove(...n);lv()}constructor(n,t){const r=this.config=new fk(t),f=hv(n),e=cv(f);if(e)throw new Error("Canvas is already in use. Chart with ID '"+e.id+"' must be destroyed before the canvas with ID '"+e.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||oa(f));this.platform.updateConfig(r);const u=this.platform.acquireContext(f,o.aspectRatio),i=u&&u.canvas,s=i&&i.height,h=i&&i.width;this.id=th();this.ctx=u;this.canvas=i;this.width=h;this.height=s;this._options=o;this._aspectRatio=this.aspectRatio;this._layers=[];this._metasets=[];this._stacks=void 0;this.boxes=[];this.currentDevicePixelRatio=void 0;this.chartArea=void 0;this._active=[];this._lastEvent=void 0;this._listeners={};this._responsiveListeners=void 0;this._sortedMetasets=[];this.scales={};this._plugins=new tk;this.$proxies={};this._hiddenIndices={};this.attached=!1;this._animationsDisabled=void 0;this.$context=void 0;this._doResize=dh(n=>this.update(n),o.resizeDelay||0);this._dataChanges=[];af[this.id]=this;u&&i?(ut.listen(this,"complete",sv),ut.listen(this,"progress",sk),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:n,maintainAspectRatio:u},width:f,height:t,_aspectRatio:r}=this;return i(n)?u&&r?r:t?f/t:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return it}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():to(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ro(this.canvas,this.ctx),this}stop(){return ut.stop(this),this}resize(n,t){ut.running(this)?this._resizeBeforeDraw={width:n,height:t}:this._resize(n,t)}_resize(n,t){const r=this.options,f=this.canvas,e=r.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(f,n,t,e),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=i.width;this.height=i.height;this._aspectRatio=this.aspectRatio;to(this,o,!0)&&(this.notifyPlugins("resize",{size:i}),u(r.onResize,[this,i],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){r(this.options.scales||{},(n,t)=>{n.id=t})}buildOrUpdateScales(){const f=this.options,i=f.scales,t=this.scales,e=Object.keys(t).reduce((n,t)=>(n[t]=!1,n),{});let u=[];i&&(u=u.concat(Object.keys(i).map(n=>{const t=i[n],r=fs(n,t),u="r"===r,f="x"===r;return{options:t,dposition:u?"chartArea":f?"bottom":"left",dtype:u?"radialLinear":f?"category":"linear"}})));r(u,i=>{const r=i.options,u=r.id,h=fs(u,r),s=n(r.type,i.dtype);void 0!==r.position&&ev(r.position,h)===ev(i.dposition)||(r.position=i.dposition);e[u]=!0;let o=null;u in t&&t[u].type===s?o=t[u]:(o=new(it.getScale(s))({id:u,type:s,ctx:this.ctx,chart:this}),t[o.id]=o);o.init(r,f)});r(e,(n,i)=>{n||delete t[i]});r(t,n=>{y.configure(this,n,n.options),y.addBox(this,n)})}_updateMetasets(){const n=this._metasets,t=this.data.datasets.length,i=n.length;if(n.sort((n,t)=>n.index-t.index),i>t){for(let n=t;n<i;++n)this._destroyDatasetMeta(n);n.splice(t,i-t)}this._sortedMetasets=n.slice(0).sort(ov("order","index"))}_removeUnreferencedMetasets(){const{_metasets:n,data:{datasets:t}}=this;n.length>t.length&&delete this._stacks;n.forEach((n,i)=>{0===t.filter(t=>t===n._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=i.length;n<r;n++){const f=i[n];let r=this.getDatasetMeta(n);const u=f.type||this.config.type;if(r.type&&r.type!==u&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=u,r.indexAxis=f.indexAxis||us(u,this.options),r.order=f.order||0,r.index=n,r.label=""+f.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const i=it.getController(u),{datasetElementType:f,dataElementType:e}=s.datasets[u];Object.assign(i,{dataElementType:it.getElement(e),datasetElementType:f&&it.getElement(f)});r.controller=new i(this,n);t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){r(this.data.datasets,(n,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements();this.notifyPlugins("reset")}update(n){const i=this.config;i.update();const f=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),e=this._animationsDisabled=!f.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})){const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let t=0;for(let n=0,i=this.data.datasets.length;n<i;n++){const{controller:i}=this.getDatasetMeta(n),r=!e&&-1===o.indexOf(i);i.buildOrUpdateElements(r);t=Math.max(+i.getMaxOverflow(),t)}t=this._minPadding=f.layout.autoPadding?t:0;this._updateLayout(t);e||r(o,n=>{n.reset()});this._updateDatasets(n);this.notifyPlugins("afterUpdate",{mode:n});this._layers.sort(ov("z","_idx"));const{_active:u,_lastEvent:s}=this;s?this._eventHandler(s,!0):u.length&&this._updateHoverStyles(u,u,!0);this.render()}}_updateScales(){r(this.scales,n=>{y.removeBox(this,n)});this.ensureScalesHaveIDs();this.buildOrUpdateScales()}_checkEventBindings(){const n=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(n.events);ie(t,i)&&!!this._responsiveListeners===n.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:n}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:u,count:i}of t)hk(n,u,"_removeElements"===r?-i:i)}_getUniformDataChanges(){const n=this._dataChanges;if(n&&n.length){this._dataChanges=[];const r=this.data.datasets.length,t=t=>new Set(n.filter(n=>n[0]===t).map((n,t)=>t+","+n.splice(1).join(","))),i=t(0);for(let n=1;n<r;n++)if(!ie(i,t(n)))return;return Array.from(i).map(n=>n.split(",")).map(n=>({method:n[1],start:+n[2],count:+n[3]}))}}_updateLayout(n){if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){y.update(this,this.width,this.height,n);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[];r(this.boxes,n=>{i&&"chartArea"===n.position||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this);this._layers.forEach((n,t)=>{n._idx=t});this.notifyPlugins("afterLayout")}}_updateDatasets(n){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})){for(let n=0,t=this.data.datasets.length;n<t;++n)this.getDatasetMeta(n).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,at(n)?n({datasetIndex:t}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,t){const r=this.getDatasetMeta(n),i={meta:r,index:n,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ut.has(this)?this.attached&&!ut.running(this)&&ut.start(this):(this.draw(),sv({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){const{width:n,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null;this._resize(n,t)}if((this.clear(),!(this.width<=0)&&!(this.height<=0))&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){const t=this._layers;for(n=0;n<t.length&&t[n].z<=0;++n)t[n].draw(this.chartArea);for(this._drawDatasets();n<t.length;++n)t[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}}_getSortedDatasetMetas(n){const i=this._sortedMetasets,r=[];let t,u;for(t=0,u=i.length;t<u;++t){const u=i[t];n&&!u.visible||r.push(u)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){const n=this.getSortedVisibleDatasetMetas();for(let t=n.length-1;t>=0;--t)this._drawDataset(n[t]);this.notifyPlugins("afterDatasetsDraw")}}_drawDataset(n){const u=this.ctx,t=n._clip,f=!t.disabled,i=function(n,t){const{xScale:i,yScale:r}=n;return i&&r?{left:vf(i,t,"left"),right:vf(i,t,"right"),top:vf(r,t,"top"),bottom:vf(r,t,"bottom")}:t}(n,this.chartArea),r={meta:n,index:n.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(f&&vr(u,{left:!1===t.left?0:i.left-t.left,right:!1===t.right?this.width:i.right+t.right,top:!1===t.top?0:i.top-t.top,bottom:!1===t.bottom?this.height:i.bottom+t.bottom}),n.controller.draw(),f&&yr(u),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(n){return st(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,t,i,r){const u=wo.modes[t];return"function"==typeof u?u(this,n,i,r):[]}getDatasetMeta(n){const t=this.data.datasets[n],r=this._metasets;let i=r.filter(n=>n&&n._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:n,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=pt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){const t=this.data.datasets[n];if(!t)return!1;const i=this.getDatasetMeta(n);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(n,t){this.getDatasetMeta(n).hidden=!t}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,t,i){const u=i?"show":"hide",r=this.getDatasetMeta(n),f=r.controller._resolveAnimations(void 0,u);wi(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(n,i),f.update(r,{visible:i}),this.update(t=>t.datasetIndex===n?u:void 0))}hide(n,t){this._updateVisibility(n,t,!1)}show(n,t){this._updateVisibility(n,t,!0)}_destroyDatasetMeta(n){const t=this._metasets[n];t&&t.controller&&t.controller._destroy();delete this._metasets[n]}_stop(){let n,t;for(this.stop(),ut.remove(this),n=0,t=this.data.datasets.length;n<t;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:n,ctx:t}=this;this._stop();this.config.clearCache();n&&(this.unbindEvents(),ro(n,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null);delete af[this.id];this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents();this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const n=this._listeners,t=this.platform,i=(i,r)=>{t.addEventListener(this,i,r),n[i]=r},u=(n,t,i)=>{n.offsetX=t,n.offsetY=i,this._eventHandler(n)};r(this.options.events,n=>i(n,u))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const n=this._responsiveListeners,t=this.platform,i=(i,r)=>{t.addEventListener(this,i,r),n[i]=r},f=(i,r)=>{n[i]&&(t.removeEventListener(this,i,r),delete n[i])},e=(n,t)=>{this.canvas&&this.resize(n,t)};let r;const u=()=>{f("attach",u),this.attached=!0,this.resize(),i("resize",e),i("detach",r)};r=()=>{this.attached=!1,f("resize",e),this._stop(),this._resize(0,0),i("attach",u)};t.isAttached(this.canvas)?u():r()}unbindEvents(){r(this._listeners,(n,t)=>{this.platform.removeEventListener(this,t,n)});this._listeners={};r(this._responsiveListeners,(n,t)=>{this.platform.removeEventListener(this,t,n)});this._responsiveListeners=void 0}updateHoverStyle(n,t,i){const f=i?"set":"remove";let e,r,u,o;for("dataset"===t&&(e=this.getDatasetMeta(n[0].datasetIndex),e.controller["_"+f+"DatasetHoverStyle"]()),u=0,o=n.length;u<o;++u){r=n[u];const t=r&&this.getDatasetMeta(r.datasetIndex).controller;t&&t[f+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){const i=this._active||[],t=n.map(({datasetIndex:t,index:n})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[n],index:n}});er(t,i)||(this._active=t,this._lastEvent=null,this._updateHoverStyles(t,i))}notifyPlugins(n,t,i){return this._plugins.notify(this,n,t,i)}isPluginEnabled(n){return 1===this._plugins._cache.filter(t=>t.plugin.id===n).length}_updateHoverStyles(n,t,i){const r=this.options.hover,u=(n,t)=>n.filter(n=>!t.some(t=>n.datasetIndex===t.datasetIndex&&n.index===t.index)),f=u(t,n),e=i?n:u(n,t);f.length&&this.updateHoverStyle(f,r.mode,!1);e.length&&r.mode&&this.updateHoverStyle(e,r.mode,!0)}_eventHandler(n,t){const i={event:n,replay:t,cancelable:!0,inChartArea:this.isPointInArea(n)},r=t=>(t.options.events||this.options.events).includes(n.native.type);if(!1!==this.notifyPlugins("beforeEvent",i,r)){const u=this._handleEvent(n,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(u||i.changed)&&this.render(),this}}_handleEvent(n,t,i){const{_active:f=[],options:e}=this,h=t,r=this._getActiveElements(n,f,i,h),o=sh(n),c=function(n,t,i,r){return i&&"mouseout"!==n.type?r?t:n:null}(n,this._lastEvent,i,o);i&&(this._lastEvent=null,u(e.onHover,[n,r,this],this),o&&u(e.onClick,[n,r,this],this));const s=!er(r,f);return(s||t)&&(this._active=r,this._updateHoverStyles(r,f,t)),this._lastEvent=c,s}_getActiveElements(n,t,i,r){if("mouseout"===n.type)return[];if(!i)return t;const u=this.options.hover;return this.getElementsAtEventForMode(n,u.mode,u,r)}}class av{static override(n){Object.assign(av.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return ai()}parse(){return ai()}format(){return ai()}add(){return ai()}diff(){return ai()}startOf(){return ai()}endOf(){return ai()}}es={_date:av};class ss extends wt{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>"spacing"!==n,_indexable:n=>"spacing"!==n&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=n.legend.options;return t.labels.map(((t,u)=>{const f=n.getDatasetMeta(0).controller.getStyle(u);return{text:t,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(u),index:u}}))}return[]}},onClick(n,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(n,t){super(n,t);this.enableOptionSharing=!0;this.innerRadius=void 0;this.outerRadius=void 0;this.offsetX=void 0;this.offsetY=void 0}linkScales(){}parse(n,i){const r=this.getDataset().data,u=this._cachedMeta;if(!1===this._parsing)u._parsed=r;else{let f,e,o=n=>+r[n];if(t(r[n])){const{key:n="value"}=this._parsing;o=t=>+lt(r[t],n)}for(f=n,e=n+i;f<e;++f)u._parsed[f]=o(f)}}_getRotation(){return nt(this.options.rotation-90)}_getCircumference(){return nt(this.options.circumference)}_getRotationExtents(){let n=o,t=-o;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,u=r._getRotation(),f=r._getCircumference();n=Math.min(n,u);t=Math.max(t,u+f)}return{rotation:n,circumference:t-n}}update(n){const l=this.chart,{chartArea:i}=l,f=this._cachedMeta,r=f.data,u=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-u)/2,0),s=Math.min(ih(this.options.cutout,a),1),v=this._getRingWeight(this.index),{circumference:y,rotation:p}=this._getRotationExtents(),{ratioX:w,ratioY:b,offsetX:k,offsetY:d}=function(n,t,i){let r=1,u=1,f=0,s=0;if(t<o){const o=n,h=o+t,l=Math.cos(o),a=Math.sin(o),v=Math.cos(h),y=Math.sin(h),p=(n,t,r)=>ki(n,o,h,!0)?1:Math.max(t,t*i,r,r*i),w=(n,t,r)=>ki(n,o,h,!0)?-1:Math.min(t,t*i,r,r*i),b=p(0,l,v),k=p(c,a,y),d=w(e,l,v),g=w(e+c,a,y);r=(b-d)/2;u=(k-g)/2;f=-(b+d)/2;s=-(k+g)/2}return{ratioX:r,ratioY:u,offsetX:f,offsetY:s}}(p,y,s),g=(i.width-u)/w,nt=(i.height-u)/b,tt=Math.max(Math.min(g,nt)/2,0),t=te(this.options.radius,tt),h=(t-Math.max(t*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=k*t;this.offsetY=d*t;f.total=this.calculateTotal();this.outerRadius=t-h*this._getRingWeightOffset(this.index);this.innerRadius=Math.max(this.outerRadius-h*v,0);this.updateElements(r,0,r.length,n)}_circumference(n,t){const r=this.options,i=this._cachedMeta,u=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(n)||null===i._parsed[n]||i.data[n].hidden?0:this.calculateCircumference(i._parsed[n]*u/o)}updateElements(n,t,i,r){const o="reset"===r,s=this.chart,f=s.chartArea,c=s.options.animation,l=(f.left+f.right)/2,a=(f.top+f.bottom)/2,h=o&&c.animateScale,v=h?0:this.innerRadius,y=h?0:this.outerRadius,{sharedOptions:p,includeOptions:w}=this._getSharedOptions(t,r);let u,e=this._getRotation();for(u=0;u<t;++u)e+=this._circumference(u,o);for(u=t;u<t+i;++u){const t=this._circumference(u,o),i=n[u],f={x:l+this.offsetX,y:a+this.offsetY,startAngle:e,endAngle:e+t,circumference:t,outerRadius:y,innerRadius:v};w&&(f.options=p||this.resolveDataElementOptions(u,i.active?"active":r));e+=t;this.updateElement(i,u,f,r)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let n,r=0;for(n=0;n<i.length;n++){const u=t._parsed[n];null===u||isNaN(u)||!this.chart.getDataVisibility(n)||i[n].hidden||(r+=Math.abs(u))}return r}calculateCircumference(n){const t=this._cachedMeta.total;return t>0&&!isNaN(n)?o*(Math.abs(n)/t):0}getLabelAndValue(n){const i=this._cachedMeta,t=this.chart,r=t.data.labels||[],u=gi(i._parsed[n],t.options.locale);return{label:r[n]||"",value:u}}getMaxBorderWidth(n){let u=0;const f=this.chart;let t,i,e,o,r;if(!n)for(t=0,i=f.data.datasets.length;t<i;++t)if(f.isDatasetVisible(t)){e=f.getDatasetMeta(t);n=e.data;o=e.controller;break}if(!n)return 0;for(t=0,i=n.length;t<i;++t)r=o.resolveDataElementOptions(t),"inner"!==r.borderAlign&&(u=Math.max(u,r.borderWidth||0,r.hoverBorderWidth||0));return u}getMaxOffset(n){let t=0;for(let i=0,r=n.length;i<r;++i){const n=this.resolveDataElementOptions(i);t=Math.max(t,n.offset||0,n.hoverOffset||0)}return t}_getRingWeightOffset(n){let t=0;for(let i=0;i<n;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(t){return Math.max(n(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class bv extends wt{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=n.legend.options;return t.labels.map(((t,u)=>{const f=n.getDatasetMeta(0).controller.getStyle(u);return{text:t,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(u),index:u}}))}return[]}},onClick(n,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,t){super(n,t);this.innerRadius=void 0;this.outerRadius=void 0}getLabelAndValue(n){const i=this._cachedMeta,t=this.chart,r=t.data.labels||[],u=gi(i._parsed[n].r,t.options.locale);return{label:r[n]||"",value:u}}parseObjectData(n,t,i,r){return so.bind(this)(n,t,i,r)}update(n){const t=this._cachedMeta.data;this._updateRadius();this.updateElements(t,0,t.length,n)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((t,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,f=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(f/2,0),u=(i-Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=i-u*this.index;this.innerRadius=this.outerRadius-u}updateElements(n,t,i,r){const a="reset"===r,s=this.chart,h=s.options.animation,f=this._cachedMeta.rScale,v=f.xCenter,y=f.yCenter,c=f.getIndexAngle(0)-.5*e;let u,o=c;const l=360/this.countVisibleElements();for(u=0;u<t;++u)o+=this._computeAngle(u,r,l);for(u=t;u<t+i;u++){const i=n[u];let e=o,t=o+this._computeAngle(u,r,l),p=s.getDataVisibility(u)?f.getDistanceFromCenterForValue(this.getParsed(u).r):0;o=t;a&&(h.animateScale&&(p=0),h.animateRotate&&(e=t=c));const w={x:v,y:y,innerRadius:0,outerRadius:p,startAngle:e,endAngle:t,options:this.resolveDataElementOptions(u,i.active?"active":r)};this.updateElement(i,u,w,r)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(n,t,i){return this.chart.getDataVisibility(n)?nt(this.resolveDataElementOptions(n,t).angle||i):0}}hs=Object.freeze({__proto__:null,BarController:class extends wt{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,t,i,r){return yv(n,t,i,r)}parseArrayData(n,t,i,r){return yv(n,t,i,r)}parseObjectData(n,t,i,r){const{iScale:f,vScale:s}=n,{xAxisKey:h="x",yAxisKey:c="y"}=this._parsing,v="x"===f.axis?h:c,y="x"===s.axis?h:c,l=[];let u,a,e,o;for(u=i,a=i+r;u<a;++u)o=t[u],e={},e[f.axis]=f.parse(lt(o,v),u),l.push(vv(lt(o,y),e,s,u));return l}updateRangeFromParsed(n,t,i,r){super.updateRangeFromParsed(n,t,i,r);const u=i._custom;u&&t===this._cachedMeta.vScale&&(n.min=Math.min(n.min,u.min),n.max=Math.max(n.max,u.max))}getMaxOverflow(){return 0}getLabelAndValue(n){const f=this._cachedMeta,{iScale:r,vScale:u}=f,t=this.getParsed(n),i=t._custom,e=os(i)?"["+i.start+", "+i.end+"]":""+u.getLabelForValue(t[u.axis]);return{label:""+r.getLabelForValue(t[r.axis]),value:e}}initialize(){this.enableOptionSharing=!0;super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(n){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,n)}updateElements(n,t,r,u){const c="reset"===u,{index:o,_cachedMeta:{vScale:e}}=this,s=e.getBasePixel(),f=e.isHorizontal(),h=this._getRuler(),{sharedOptions:l,includeOptions:a}=this._getSharedOptions(t,u);for(let v=t;v<t+r;v++){const w=this.getParsed(v),t=c||i(w[e.axis])?{base:s,head:s}:this._calculateBarValuePixels(v),y=this._calculateBarIndexPixels(v,h),p=(w._stacks||{})[e.axis],r={horizontal:f,base:t.base,enableBorderRadius:!p||os(w._custom)||o===p._top||o===p._bottom,x:f?t.head:y.center,y:f?y.center:t.head,height:f?y.size:Math.abs(t.size),width:f?Math.abs(t.size):y.size};a&&(r.options=l||this.resolveDataElementOptions(v,n[v].active?"active":u));const b=r.options||n[v].options;lk(r,b,p,o);ak(r,b,h.ratio);this.updateElement(n[v],v,r,u)}}_getStacks(n,t){const{iScale:u}=this._cachedMeta,o=u.getMatchingVisibleMetas(this._type).filter(n=>n.controller.options.grouped),f=u.options.stacked,r=[],e=this._cachedMeta.controller.getParsed(t),s=e&&e[u.axis],h=n=>{const t=n._parsed.find(n=>n[u.axis]===s),r=t&&t[n.vScale.axis];if(i(r)||isNaN(r))return!0};for(const i of o)if((void 0===t||!h(i))&&((!1===f||-1===r.indexOf(i.stack)||void 0===f&&void 0===i.stack)&&r.push(i.stack),i.index===n))break;return r.length||r.push(void 0),r}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,t,i){const r=this._getStacks(n,i),u=void 0!==t?r.indexOf(t):-1;return-1===u?r.length-1:u}_getRuler(){const i=this.options,r=this._cachedMeta,n=r.iScale,u=[];let t,f;for(t=0,f=r.data.length;t<f;++t)u.push(n.getPixelForValue(this.getParsed(t)[n.axis],t));const e=i.barThickness;return{min:e||ck(r),pixels:u,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:i.grouped,ratio:e?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(n){const{_cachedMeta:{vScale:t,_stacked:a,index:w},options:{base:v,minBarLength:p}}=this,c=v||0,l=this.getParsed(n),o=l._custom,y=os(o);let e,r,f=l[t.axis],s=0,h=a?this.applyStack(t,l,a):f;h!==f&&(s=h-f,h=f);y&&(f=o.barStart,h=o.barEnd-o.barStart,0!==f&&rt(f)!==rt(o.barEnd)&&(s=0),s+=f);const b=i(v)||y?s:v;let u=t.getPixelForValue(b);if(e=this.chart.getDataVisibility(n)?t.getPixelForValue(s+h):u,r=e-u,Math.abs(r)<p){r=function(n,t,i){return 0!==n?rt(n):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}(r,t,c)*p;f===c&&(u-=r/2);const n=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),o=Math.min(n,i),s=Math.max(n,i);u=Math.max(Math.min(u,s),o);e=u+r;a&&!y&&(l._stacks[t.axis]._visualValues[w]=t.getValueForPixel(e)-t.getValueForPixel(u))}if(u===t.getPixelForValue(c)){const n=rt(r)*t.getLineWidthForValue(c)/2;u+=n;r-=n}return{size:r,base:u,head:e,center:e+r/2}}_calculateBarIndexPixels(t,r){const o=r.scale,u=this.options,s=u.skipNull,h=n(u.maxBarThickness,1/0);let f,e;if(r.grouped){const o=s?this._getStackCount(t):r.stackCount,n="flex"===u.barThickness?function(n,t,i,r){const o=t.pixels,u=o[n];let e=n>0?o[n-1]:null,f=n<o.length-1?o[n+1]:null;const s=i.categoryPercentage;null===e&&(e=u-(null===f?t.end-t.start:f-u));null===f&&(f=u+u-e);const h=u-(u-Math.min(e,f))/2*s;return{chunk:Math.abs(f-e)/2*s/r,ratio:i.barPercentage,start:h}}(t,r,u,o):function(n,t,r,u){const o=r.barThickness;let f,e;return i(o)?(f=t.min*r.categoryPercentage,e=r.barPercentage):(f=o*u,e=1),{chunk:f/u,ratio:e,start:t.pixels[n]-f/2}}(t,r,u,o),c=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);f=n.start+n.chunk*c+n.chunk/2;e=Math.min(h,n.chunk*n.ratio)}else f=o.getPixelForValue(this.getParsed(t)[o.axis],t),e=Math.min(h,r.min*r.ratio);return{base:f-e/2,head:f+e/2,center:f,size:e}}draw(){const i=this._cachedMeta,r=i.vScale,t=i.data,u=t.length;let n=0;for(;n<u;++n)null===this.getParsed(n)[r.axis]||t[n].hidden||t[n].draw(this._ctx)}},BubbleController:class extends wt{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0;super.initialize()}parsePrimitiveData(n,t,i,r){const u=super.parsePrimitiveData(n,t,i,r);for(let n=0;n<u.length;n++)u[n]._custom=this.resolveDataElementOptions(n+i).radius;return u}parseArrayData(t,i,r,u){const f=super.parseArrayData(t,i,r,u);for(let t=0;t<f.length;t++){const u=i[r+t];f[t]._custom=n(u[2],this.resolveDataElementOptions(t+r).radius)}return f}parseObjectData(t,i,r,u){const f=super.parseObjectData(t,i,r,u);for(let t=0;t<f.length;t++){const u=i[r+t];f[t]._custom=n(u&&u.r&&+u.r,this.resolveDataElementOptions(t+r).radius)}return f}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(n){const r=this._cachedMeta,u=this.chart.data.labels||[],{xScale:f,yScale:e}=r,t=this.getParsed(n),o=f.getLabelForValue(t.x),s=e.getLabelForValue(t.y),i=t._custom;return{label:u[n]||"",value:"("+o+", "+s+(i?", "+i:"")+")"}}update(n){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,n)}updateElements(n,t,i,r){const u="reset"===r,{iScale:f,vScale:e}=this._cachedMeta,{sharedOptions:h,includeOptions:c}=this._getSharedOptions(t,r),o=f.axis,s=e.axis;for(let l=t;l<t+i;l++){const i=n[l],a=!u&&this.getParsed(l),t={},v=t[o]=u?f.getPixelForDecimal(.5):f.getPixelForValue(a[o]),y=t[s]=u?e.getBasePixel():e.getPixelForValue(a[s]);t.skip=isNaN(v)||isNaN(y);c&&(t.options=h||this.resolveDataElementOptions(l,i.active?"active":r),u&&(t.options.radius=0));this.updateElement(i,l,t,r)}}resolveDataElementOptions(t,i){const u=this.getParsed(t);let r=super.resolveDataElementOptions(t,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const f=r.radius;return"active"!==i&&(r.radius=0),r.radius+=n(u&&u._custom,f),r}},DoughnutController:ss,LineController:class extends wt{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0;this.supportsDecimation=!0;super.initialize()}update(n){const r=this._cachedMeta,{dataset:t,data:i=[],_dataset:s}=r,o=this.chart._animationsDisabled;let{start:u,count:f}=ae(r,i,o);this._drawStart=u;this._drawCount=f;ve(r)&&(u=0,f=i.length);t._chart=this.chart;t._datasetIndex=this.index;t._decimated=!!s._decimated;t.points=i;const e=this.resolveDatasetElementOptions(n);this.options.showLine||(e.borderWidth=0);e.segment=this.options.segment;this.updateElement(t,void 0,{animated:!o,options:e},n);this.updateElements(i,u,f,n)}updateElements(n,t,r,u){const s="reset"===u,{iScale:h,vScale:f,_stacked:c,_dataset:y}=this._cachedMeta,{sharedOptions:p,includeOptions:w}=this._getSharedOptions(t,u),e=h.axis,o=f.axis,{spanGaps:l,segment:b}=this.options,k=ei(l)?l:Number.POSITIVE_INFINITY,a=this.chart._animationsDisabled||s||"none"===u,d=t+r,g=n.length;let v=t>0&&this.getParsed(t-1);for(let r=0;r<g;++r){const nt=n[r],l=a?nt:{};if(r<t||r>=d){l.skip=!0;continue}const g=this.getParsed(r),tt=i(g[o]),it=l[e]=h.getPixelForValue(g[e],r),rt=l[o]=s||tt?f.getBasePixel():f.getPixelForValue(c?this.applyStack(f,g,c):g[o],r);l.skip=isNaN(it)||isNaN(rt)||tt;l.stop=r>0&&Math.abs(g[e]-v[e])>k;b&&(l.parsed=g,l.raw=y.data[r]);w&&(l.options=p||this.resolveDataElementOptions(r,nt.active?"active":u));a||this.updateElement(nt,r,l,u);v=g}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,n=t.data||[];if(!n.length)return r;const u=n[0].size(this.resolveDataElementOptions(0)),f=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,u,f)/2}draw(){const n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis);super.draw()}},PieController:class extends ss{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};},PolarAreaController:bv,RadarController:class extends wt{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){const t=this._cachedMeta.vScale,i=this.getParsed(n);return{label:t.getLabels()[n],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(n,t,i,r){return so.bind(this)(n,t,i,r)}update(n){const i=this._cachedMeta,r=i.dataset,t=i.data||[],u=i.iScale.getLabels();if(r.points=t,"resize"!==n){const i=this.resolveDatasetElementOptions(n);this.options.showLine||(i.borderWidth=0);const f={_loop:!0,_fullLoop:u.length===t.length,options:i};this.updateElement(r,void 0,f,n)}this.updateElements(t,0,t.length,n)}updateElements(n,t,i,r){const u=this._cachedMeta.rScale,f="reset"===r;for(let e=t;e<t+i;e++){const i=n[e],h=this.resolveDataElementOptions(e,i.active?"active":r),t=u.getPointPositionForValue(e,this.getParsed(e).r),o=f?u.xCenter:t.x,s=f?u.yCenter:t.y,c={x:o,y:s,angle:t.angle,skip:isNaN(o)||isNaN(s),options:h};this.updateElement(i,e,c,r)}}},ScatterController:class extends wt{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:u,yScale:f}=i,t=this.getParsed(n),e=u.getLabelForValue(t.x),o=f.getLabelForValue(t.y);return{label:r[n]||"",value:"("+e+", "+o+")"}}update(n){const t=this._cachedMeta,{data:i=[]}=t,f=this.chart._animationsDisabled;let{start:r,count:u}=ae(t,i,f);if(this._drawStart=r,this._drawCount=u,ve(t)&&(r=0,u=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:e}=t;r._chart=this.chart;r._datasetIndex=this.index;r._decimated=!!e._decimated;r.points=i;const u=this.resolveDatasetElementOptions(n);u.segment=this.options.segment;this.updateElement(r,void 0,{animated:!f,options:u},n)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,r,u,n)}addElements(){const{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line"));super.addElements()}updateElements(n,t,r,u){const h="reset"===u,{iScale:c,vScale:f,_stacked:l,_dataset:w}=this._cachedMeta,a=this.resolveDataElementOptions(t,u),o=this.getSharedOptions(a),b=this.includeOptions(u,o),e=c.axis,s=f.axis,{spanGaps:v,segment:k}=this.options,d=ei(v)?v:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||h||"none"===u;let p=t>0&&this.getParsed(t-1);for(let a=t;a<t+r;++a){const v=n[a],r=this.getParsed(a),t=y?v:{},g=i(r[s]),nt=t[e]=c.getPixelForValue(r[e],a),tt=t[s]=h||g?f.getBasePixel():f.getPixelForValue(l?this.applyStack(f,r,l):r[s],a);t.skip=isNaN(nt)||isNaN(tt)||g;t.stop=a>0&&Math.abs(r[e]-p[e])>d;k&&(t.parsed=r,t.raw=w.data[a]);b&&(t.options=o||this.resolveDataElementOptions(a,v.active?"active":u));y||this.updateElement(v,a,t,u);p=r}this.updateSharedOptions(o,u,a)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let t=0;for(let i=n.length-1;i>=0;--i)t=Math.max(t,n[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const u=n[0].size(this.resolveDataElementOptions(0)),f=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,u,f)/2}}});const kk="function"==typeof Path2D;class pf extends ht{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>"borderDash"!==n&&"fill"!==n};constructor(n){super();this.animated=!0;this.options=void 0;this._chart=void 0;this._loop=void 0;this._fullLoop=void 0;this._path=void 0;this._points=void 0;this._segments=void 0;this._decimated=!1;this._pointsUpdated=!1;this._datasetIndex=void 0;n&&Object.assign(this,n)}updateControlPoints(n,t){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;rl(this._points,i,n,r,t);this._pointsUpdated=!0}}set points(n){this._points=n;delete this._segments;delete this._path;this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=al(this,this.options.segment))}first(){const n=this.segments,t=this.points;return n.length&&t[n[0].start]}last(){const n=this.segments,i=this.points,t=n.length;return t&&i[n[t-1].end]}interpolate(n,t){const e=this.options,u=n[t],o=this.points,f=vo(this,{property:t,start:u,end:u});if(f.length){const i=[],h=function(n){return n.stepped?el:n.tension||"monotone"===n.cubicInterpolationMode?ol:ri}(e);let r,s;for(r=0,s=f.length;r<s;++r){const{start:a,end:v}=f[r],s=o[a],c=o[v];if(s===c){i.push(s);continue}const l=h(s,c,Math.abs((u-s[t])/(c[t]-s[t])),e.stepped);l[t]=n[t];i.push(l)}return 1===i.length?i[0]:i}}pathSegment(n,t,i){return cs(this)(n,this,t,i)}path(n,t,i){const u=this.segments,f=cs(this);let r=this._loop;t=t||0;i=i||this.points.length-t;for(const e of u)r&=f(n,this,e,{start:t,end:t+i-1});return!!r}draw(n,t,i,r){const u=this.options||{};(this.points||[]).length&&u.borderWidth&&(n.save(),dk(n,this,i,r),n.restore());this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}wf=Object.freeze({__proto__:null,ArcElement:class extends ht{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>"borderDash"!==n};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super();this.options=void 0;this.circumference=void 0;this.startAngle=void 0;this.endAngle=void 0;this.innerRadius=void 0;this.outerRadius=void 0;this.pixelMargin=0;this.fullCircles=0;n&&Object.assign(this,n)}inRange(t,i,r){const s=this.getProps(["x","y"],r),{angle:h,distance:c}=oe(s,{x:t,y:i}),{startAngle:u,endAngle:f,innerRadius:l,outerRadius:a,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),e=(this.options.spacing+this.options.borderWidth)/2,y=n(v,f-u),p=ki(h,u,f)&&u!==f,w=y>=o||p,b=et(c,l+e,a+e);return w&&b}getCenterPoint(n){const{x:r,y:u,startAngle:f,endAngle:e,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:c}=this.options,t=(f+e)/2,i=(o+s+c+h)/2;return{x:r+Math.cos(t)*i,y:u+Math.sin(t)*i}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:t,circumference:i}=this,r=(t.offset||0)/4,u=(t.spacing||0)/2,f=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>o?Math.floor(i/o):0,0!==i&&!(this.innerRadius<0)&&!(this.outerRadius<0)){n.save();const s=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(s)*r,Math.sin(s)*r);const h=r*(1-Math.sin(Math.min(e,i||0)));n.fillStyle=t.backgroundColor;n.strokeStyle=t.borderColor,function(n,t,i,r,u){const{fullCircles:e,startAngle:h,circumference:s}=t;let f=t.endAngle;if(e){yf(n,t,i,r,f,u);for(let t=0;t<e;++t)n.fill();isNaN(s)||(f=h+(s%o||o))}yf(n,t,i,r,f,u);n.fill()}(n,this,h,u,f);yk(n,this,h,u,f);n.restore()}}},BarElement:class extends ht{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super();this.options=void 0;this.horizontal=void 0;this.base=void 0;this.width=void 0;this.height=void 0;this.inflateAmount=void 0;n&&Object.assign(this,n)}draw(n){const{inflateAmount:u,options:{borderColor:e,backgroundColor:o}}=this,{inner:t,outer:i}=gk(this),f=(r=i.radius).topLeft||r.topRight||r.bottomLeft||r.bottomRight?tr:nd;var r;n.save();i.w===t.w&&i.h===t.h||(n.beginPath(),f(n,as(i,u,t)),n.clip(),f(n,as(t,-u,i)),n.fillStyle=e,n.fill("evenodd"));n.beginPath();f(n,as(t,u));n.fillStyle=o;n.fill();n.restore()}inRange(n,t,i){return ls(this,n,t,i)}inXRange(n,t){return ls(this,n,null,t)}inYRange(n,t){return ls(this,null,n,t)}getCenterPoint(n){const{x:t,y:i,base:r,horizontal:u}=this.getProps(["x","y","base","horizontal"],n);return{x:u?(t+r)/2:t,y:u?i:(i+r)/2}}getRange(n){return"x"===n?this.width/2:this.height/2}},LineElement:pf,PointElement:class extends ht{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super();this.options=void 0;this.parsed=void 0;this.skip=void 0;this.stop=void 0;n&&Object.assign(this,n)}inRange(n,t,i){const r=this.options,{x:u,y:f}=this.getProps(["x","y"],i);return Math.pow(n-u,2)+Math.pow(t-f,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,t){return gv(this,n,"x",t)}inYRange(n,t){return gv(this,n,"y",t)}getCenterPoint(n){const{x:t,y:i}=this.getProps(["x","y"],n);return{x:t,y:i}}size(n){let t=(n=n||this.options||{}).radius||0;return t=Math.max(t,t&&n.hoverRadius||0),2*(t+(t&&n.borderWidth||0))}draw(n,t){const i=this.options;this.skip||i.radius<.1||!st(this,t,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,gu(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}});class bf extends li{constructor(n){super(n);this.start=void 0;this.end=void 0;this._startValue=void 0;this._endValue=void 0;this._valueRange=0}parse(n){return i(n)||("number"==typeof n||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:f,maxDefined:e}=this.getUserBounds();let{min:t,max:n}=this;const r=n=>t=f?t:n,u=t=>n=e?n:t;if(i){const i=rt(t),f=rt(n);i<0&&f<0?u(0):i>0&&f>0&&r(0)}if(t===n){let f=0===n?1:Math.abs(.05*n);u(n+f);i||r(t-f)}this.min=t;this.max=n}getTickLimit(){const r=this.options.ticks;let n,{maxTicksLimit:t,stepSize:i}=r;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const n=this.options,t=n.ticks;let r=this.getTickLimit();r=Math.max(2,r);const u=function(n,t){const c=[],{bounds:rt,step:k,min:o,max:e,precision:p,count:g,maxTicks:nt,maxDigits:ut,includeBounds:tt}=n,w=k||1,d=nt-1,{min:a,max:v}=t,b=!i(o),y=!i(e),ft=!i(g),it=(v-a)/(ut+1);let s,u,h,f,r=ue((v-a)/d/w)*w;if(r<1e-14&&!b&&!y)return[{value:a},{value:v}];f=Math.ceil(v/r)-Math.floor(a/r);f>d&&(r=ue(f*r/d/w)*w);i(p)||(s=Math.pow(10,p),r=Math.ceil(r*s)/s);"ticks"===rt?(u=Math.floor(a/r)*r,h=Math.ceil(v/r)*r):(u=a,h=v);b&&y&&k&&ah((e-o)/k,r/1e3)?(f=Math.round(Math.min((e-o)/r,nt)),r=(e-o)/f,u=o,h=e):ft?(u=b?o:u,h=y?e:h,f=g-1,r=(h-u)/f):(f=(h-u)/r,f=bi(f,Math.round(f),r/1e3)?Math.round(f):Math.ceil(f));const et=Math.max(ee(r),ee(u));s=Math.pow(10,i(p)?et:p);u=Math.round(u*s)/s;h=Math.round(h*s)/s;let l=0;for(b&&(tt&&u!==o?(c.push({value:o}),u<o&&l++,bi(Math.round((u+l*r)*s)/s,o,iy(o,it,n))&&l++):u<o&&l++);l<f;++l){const n=Math.round((u+l*r)*s)/s;if(y&&n>e)break;c.push({value:n})}return y&&tt&&h!==e?c.length&&bi(c[c.length-1].value,e,iy(e,it,n))?c[c.length-1].value=e:c.push({value:e}):y&&h!==e||c.push({value:h}),c}({maxTicks:r,bounds:n.bounds,min:n.min,max:n.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===n.bounds&&fe(u,this,"value"),n.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const i=this.ticks;let n=this.min,t=this.max;if(super.configure(),this.options.offset&&i.length){const r=(t-n)/Math.max(i.length-1,1)/2;n-=r;t+=r}this._startValue=n;this._endValue=t;this._valueRange=t-n}getLabelForValue(n){return gi(n,this.chart.options.locale,this.options.ticks.format)}}class id extends bf{static id="linear";static defaults={ticks:{callback:nr.formatters.numeric}};determineDataLimits(){const{min:n,max:t}=this.getMinMax(!0);this.min=h(n)?n:0;this.max=h(t)?t:1;this.handleTickRangeOptions()}computeTickLimit(){const n=this.isHorizontal(),i=n?this.width:this.height,t=nt(this.options.ticks.minRotation),r=(n?Math.sin(t):Math.cos(t))||.001,u=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,u.lineHeight/r))}getPixelForValue(n){return null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}}const iu=n=>Math.floor(vt(n)),vi=(n,t)=>Math.pow(10,iu(n)+t);class ud extends li{static id="logarithmic";static defaults={ticks:{callback:nr.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n);this.start=void 0;this.end=void 0;this._startValue=void 0;this._valueRange=0}parse(n,t){const i=bf.prototype.parse.apply(this,[n,t]);if(0!==i)return h(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:n,max:t}=this.getMinMax(!0);this.min=h(n)?Math.max(0,n):null;this.max=h(t)?Math.max(0,t):null;this.options.beginAtZero&&(this._zero=!0);this._zero&&this.min!==this._suggestedMin&&!h(this._userMin)&&(this.min=n===vi(this.min,0)?vi(this.min,-1):vi(this.min,0));this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:u,maxDefined:f}=this.getUserBounds();let n=this.min,t=this.max;const i=t=>n=u?n:t,r=n=>t=f?t:n;n===t&&(n<=0?(i(1),r(10)):(i(vi(n,-1)),r(vi(t,1))));n<=0&&i(vi(t,-1));t<=0&&r(vi(n,1));this.min=n;this.max=t}buildTicks(){const t=this.options,n=rd({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&fe(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(n){return void 0===n?"0":gi(n,this.chart.options.locale,this.options.ticks.format)}configure(){const n=this.min;super.configure();this._startValue=vt(n);this._valueRange=vt(this.max)-vt(n)}getPixelForValue(n){return void 0!==n&&0!==n||(n=this.min),null===n||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(vt(n)-this._startValue)/this._valueRange)}getValueForPixel(n){const t=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+t*this._valueRange)}}class cd extends bf{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:nr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n);this.xCenter=void 0;this.yCenter=void 0;this.drawingArea=void 0;this._pointLabels=[];this._pointLabelItems=[]}setDimensions(){const n=this._padding=w(vs(this.options)/2),t=this.width=this.maxWidth-n.width,i=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+t/2+n.left);this.yCenter=Math.floor(this.top+i/2+n.top);this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:n,max:t}=this.getMinMax(!1);this.min=h(n)&&!isNaN(n)?n:0;this.max=h(t)&&!isNaN(t)?t:0;this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vs(this.options))}generateTickLabels(n){bf.prototype.generateTickLabels.call(this,n);this._pointLabels=this.getLabels().map((n,t)=>{const i=u(this.options.pointLabels.callback,[n,t],this);return i||0===i?i:""}).filter((n,t)=>this.chart.getDataVisibility(t))}fit(){const n=this.options;n.display&&n.pointLabels.display?fd(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,t,i,r){this.xCenter+=Math.floor((n-t)/2);this.yCenter+=Math.floor((i-r)/2);this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,t,i,r))}getIndexAngle(n){return k(n*(o/(this._pointLabels.length||1))+nt(this.options.startAngle||0))}getDistanceFromCenterForValue(n){if(i(n))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*t:(n-this.min)*t}getValueForDistanceFromCenter(n){if(i(n))return NaN;const t=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(n){const t=this._pointLabels||[];if(n>=0&&n<t.length){const i=t[n];return function(n,t,i){return pt(n,{label:i,index:t,type:"pointLabel"})}(this.getContext(),n,i)}}getPointPosition(n,t,i=0){const r=this.getIndexAngle(n)-c+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){const{left:t,top:i,right:r,bottom:u}=this._pointLabelItems[n];return{left:t,top:i,right:r,bottom:u}}drawBackground(){const{backgroundColor:n,grid:{circular:t}}=this.options;if(n){const i=this.ctx;i.save();i.beginPath();ey(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length);i.closePath();i.fillStyle=n;i.fill();i.restore()}}drawGrid(){const n=this.ctx,r=this.options,{angleLines:e,grid:o,border:s}=r,u=this._pointLabels.length;let t,i,f;if(r.pointLabels.display&&function(n,t){const{ctx:i,options:{pointLabels:r}}=n;for(let u=t-1;u>=0;u--){const t=n._pointLabelItems[u];if(t.visible){const f=r.setContext(n.getPointLabelContext(u));hd(i,f,t);const e=a(f.font),{x:o,y:s,textAlign:h}=t;ii(i,n._pointLabels[u],o,s+e.lineHeight/2,e,{color:f.color,textAlign:h,textBaseline:"middle"})}}}(this,u),o.display&&this.ticks.forEach((n,t)=>{if(0!==t||0===t&&this.min<0){i=this.getDistanceFromCenterForValue(n.value);const r=this.getContext(t),f=o.setContext(r),e=s.setContext(r);!function(n,t,i,r,u){const f=n.ctx,e=t.circular,{color:o,lineWidth:s}=t;(e||r)&&o&&s&&!(i<0)&&(f.save(),f.strokeStyle=o,f.lineWidth=s,f.setLineDash(u.dash||[]),f.lineDashOffset=u.dashOffset,f.beginPath(),ey(n,i,e,r),f.closePath(),f.stroke(),f.restore())}(this,f,i,u,e)}}),e.display){for(n.save(),t=u-1;t>=0;t--){const u=e.setContext(this.getPointLabelContext(t)),{color:o,lineWidth:s}=u;s&&o&&(n.lineWidth=s,n.strokeStyle=o,n.setLineDash(u.borderDash),n.lineDashOffset=u.borderDashOffset,i=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),f=this.getPointPosition(t,i),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(f.x,f.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const n=this.ctx,r=this.options,u=r.ticks;if(u.display){const f=this.getIndexAngle(0);let t,i;n.save();n.translate(this.xCenter,this.yCenter);n.rotate(f);n.textAlign="center";n.textBaseline="middle";this.ticks.forEach((f,e)=>{if(0!==e||!(this.min>=0)||r.reverse){const o=u.setContext(this.getContext(e)),s=a(o.font);if(t=this.getDistanceFromCenterForValue(this.ticks[e].value),o.showLabelBackdrop){n.font=s.string;i=n.measureText(f.label).width;n.fillStyle=o.backdropColor;const r=w(o.backdropPadding);n.fillRect(-i/2-r.left,-t-s.size/2-r.top,i+r.width,s.size+r.height)}ii(n,f.label,0,-t,s,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}});n.restore()}}drawTitle(){}}const kf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},d=Object.keys(kf);class ys extends li{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n);this._cache={data:[],labels:[],all:[]};this._unit="day";this._majorUnit=void 0;this._offsets={};this._normalized=!1;this._parseOpts=void 0}init(n,t={}){const i=n.time||(n.time={}),r=this._adapter=new es._date(n.adapters.date);r.init(t);pi(i.displayFormats,r.formats());this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday};super.init(n);this._normalized=t.normalized}parse(n){return void 0===n?null:sy(this,n)}beforeLayout(){super.beforeLayout();this._cache={data:[],labels:[],all:[]}}determineDataLimits(){function o(i){f||isNaN(i.min)||(n=Math.min(n,i.min));e||isNaN(i.max)||(t=Math.max(t,i.max))}const i=this.options,r=this._adapter,u=i.time.unit||"day";let{min:n,max:t,minDefined:f,maxDefined:e}=this.getUserBounds();f&&e||(o(this._getLabelBounds()),"ticks"===i.bounds&&"labels"===i.ticks.source||o(this.getMinMax(!1)));n=h(n)&&!isNaN(n)?n:+r.startOf(Date.now(),u);t=h(t)&&!isNaN(t)?t:+r.endOf(Date.now(),u)+1;this.min=Math.min(n,t-1);this.max=Math.max(n+1,t)}_getLabelBounds(){const n=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return n.length&&(t=n[0],i=n[n.length-1]),{min:t,max:i}}buildTicks(){const t=this.options,i=t.time,r=t.ticks,n="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const f=this.min,u=wh(n,f,this.max);return this._unit=i.unit||(r.autoSkip?hy(i.minUnit,this.min,this.max,this._getLabelCapacity(f)):function(n,t,i,r,u){for(let f=d.length-1;f>=d.indexOf(i);f--){const i=d[f];if(kf[i].common&&n._adapter.diff(u,r,i)>=t-1)return i}return d[i?d.indexOf(i):0]}(this,u.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(n){for(let t=d.indexOf(n)+1,i=d.length;t<i;++t)if(kf[d[t]].common)return d[t]}(this._unit):void 0,this.initOffsets(n),t.reverse&&u.reverse(),ly(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let r,u,t=0,i=0;this.options.offset&&n.length&&(r=this.getDecimalForValue(n[0]),t=1===n.length?1-r:(this.getDecimalForValue(n[1])-r)/2,u=this.getDecimalForValue(n[n.length-1]),i=1===n.length?u:(u-this.getDecimalForValue(n[n.length-2]))/2);const f=n.length<3?.5:.25;t=v(t,0,f);i=v(i,0,f);this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,i=this.min,r=this.max,o=this.options,s=o.time,u=s.unit||hy(s.minUnit,i,r,this._getLabelCapacity(i)),h=n(o.ticks.stepSize,1),c="week"===u&&s.isoWeekday,v=ei(c)||!0===c,l={};let t,a,f=i;if(v&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,v?"day":u),e.diff(r,i,u)>1e5*h)throw new Error(i+" and "+r+" are too far apart with stepSize of "+h+" "+u);const y="data"===o.ticks.source&&this.getDataTimestamps();for(t=f,a=0;t<r;t=+e.add(t,h,u),a++)cy(l,t,y);return t!==r&&"ticks"!==o.bounds&&1!==a||cy(l,t,y),Object.keys(l).sort(oy).map(n=>+n)}getLabelForValue(n){const i=this._adapter,t=this.options.time;return t.tooltipFormat?i.format(n,t.tooltipFormat):i.format(n,t.displayFormats.datetime)}format(n,t){const i=this.options.time.displayFormats,r=this._unit,u=t||i[r];return this._adapter.format(n,u)}_tickFormatFunction(n,t,i,r){const e=this.options,o=e.ticks.callback;if(o)return u(o,[n,t,i],this);const s=e.time.displayFormats,h=this._unit,f=this._majorUnit,a=h&&s[h],c=f&&s[f],l=i[t],v=f&&c&&l&&l.major;return this._adapter.format(n,r||(v?c:a))}generateTickLabels(n){let t,r,i;for(t=0,r=n.length;t<r;++t)i=n[t],i.label=this._tickFormatFunction(i.value,t,n)}getDecimalForValue(n){return null===n?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){const t=this._offsets,i=this.getDecimalForValue(n);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(n){const t=this._offsets,i=this.getDecimalForPixel(n)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(n){const t=this.options.ticks,i=this.ctx.measureText(n).width,r=nt(this.isHorizontal()?t.maxRotation:t.minRotation),u=Math.cos(r),f=Math.sin(r),e=this._resolveTickFontOptions(0).size;return{w:i*u+e*f,h:i*f+e*u}}_getLabelCapacity(n){const t=this.options.time,i=t.displayFormats,f=i[t.unit]||i.millisecond,e=this._tickFormatFunction(n,0,ly(this,[n],this._majorUnit),f),r=this._getLabelSize(e),u=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return u>0?u:1}getDataTimestamps(){let t,r,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const n=this._cache.labels||[];let t,i;if(n.length)return n;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)n.push(sy(this,r[t]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return he(n.sort(oy))}}ps=Object.freeze({__proto__:null,CategoryScale:class extends li{static id="category";static defaults={ticks:{callback:ty}};constructor(n){super(n);this._startValue=void 0;this._valueRange=0;this._addedLabels=[]}init(n){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:r}of t)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(n)}parse(t,r){if(i(t))return null;const u=this.getLabels();return((n,t)=>null===n?null:v(Math.round(n),0,t))(r=isFinite(r)&&u[r]===t?r:td(u,t,n(r,t),this._addedLabels),u.length-1)}determineDataLimits(){const{minDefined:i,maxDefined:r}=this.getUserBounds();let{min:n,max:t}=this.getMinMax(!0);"ticks"===this.options.bounds&&(i||(n=0),r||(t=this.getLabels().length-1));this.min=n;this.max=t}buildTicks(){const t=this.min,i=this.max,r=this.options.offset,u=[];let n=this.getLabels();n=0===t&&i===n.length-1?n:n.slice(t,i+1);this._valueRange=Math.max(n.length-(r?0:1),1);this._startValue=this.min-(r?.5:0);for(let n=t;n<=i;n++)u.push({value:n});return u}getLabelForValue(n){return ty.call(this,n)}configure(){super.configure();this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return"number"!=typeof n&&(n=this.parse(n)),null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){const t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:id,LogarithmicScale:ud,RadialLinearScale:cd,TimeScale:ys,TimeSeriesScale:class extends ys{static id="timeseries";static defaults=ys.defaults;constructor(n){super(n);this._table=[];this._minPos=void 0;this._tableRange=void 0}initOffsets(){const n=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(n);this._minPos=df(t,this.min);this._tableRange=df(t,this.max)-this._minPos;super.initOffsets(n)}buildLookupTable(n){const{min:f,max:e}=this,r=[],o=[];let t,u,s,i,h;for(t=0,u=n.length;t<u;++t)i=n[t],i>=f&&i<=e&&r.push(i);if(r.length<2)return[{time:f,pos:0},{time:e,pos:1}];for(t=0,u=r.length;t<u;++t)h=r[t+1],s=r[t-1],i=r[t],Math.round((h+s)/2)!==i&&o.push({time:i,pos:t/(u-1)});return o}_generate(){const t=this.min,i=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(i)&&1!==n.length||n.push(i),n.sort((n,t)=>n-t)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return n=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,n=this._cache.all=n,n}getDecimalForValue(n){return(df(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){const t=this._offsets,i=this.getDecimalForPixel(n)/t.factor-t.end;return df(this._table,i*this._tableRange+this._minPos,!0)}}});const ws=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ay=ws.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));wy={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,i){if(i.enabled){const{data:{datasets:u},options:f}=n.config,{elements:e}=f,o=py(u)||(r=f)&&(r.borderColor||r.backgroundColor)||e&&py(e)||"rgba(0,0,0,0.1)"!==s.borderColor||"rgba(0,0,0,0.1)"!==s.backgroundColor;var r;if(i.forceOverride||!o){const h=ld(n);u.forEach(h)}}}};dy={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,r)=>{if(!r.enabled)return void ky(n);const u=n.width;n.data.datasets.forEach((t,f)=>{const{_data:c,indexAxis:y}=t,o=n.getDatasetMeta(f),e=c||t.data;if("y"!==ur([y,n.options.indexAxis])&&o.controller.supportsDecimation){const l=n.scales[o.xAxisID];if(("linear"===l.type||"time"===l.type)&&!n.options.parsing){let{start:a,count:s}=function(n,t){const r=t.length;let f,i=0;const{iScale:u}=n,{min:e,max:o,minDefined:s,maxDefined:h}=u.getUserBounds();return s&&(i=v(ot(t,u.axis,e).lo,0,r-1)),f=h?v(ot(t,u.axis,o).hi+1,i,r)-i:r-i,{start:i,count:f}}(o,e);if(s<=(r.threshold||4*u))return void by(t);let h;switch(i(c)&&(t._data=e,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(n){this._data=n}})),r.algorithm){case"lttb":h=function(n,t,i,r,u){const h=u.samples||r;if(h>=i)return n.slice(t,t+i);const e=[],o=(i-2)/(h-2);let c=0;const p=t+i-1;let f,v,l,s,y,a=t;for(e[c++]=n[a],f=0;f<h-2;f++){let r,u=0,h=0;const p=Math.floor((f+1)*o)+1+t,w=Math.min(Math.floor((f+2)*o)+1,i)+t,b=w-p;for(r=p;r<w;r++)u+=n[r].x,h+=n[r].y;u/=b;h/=b;const g=Math.floor(f*o)+1+t,nt=Math.min(Math.floor((f+1)*o)+1,i)+t,{x:k,y:d}=n[a];for(l=s=-1,r=g;r<nt;r++)s=.5*Math.abs((k-u)*(n[r].y-d)-(k-n[r].x)*(h-d)),s>l&&(l=s,v=n[r],y=r);e[c++]=v;a=y}return e[c++]=n[p],e}(e,a,s,u,r);break;case"min-max":h=function(n,t,r,u){let f,o,w,e,b,s,h,l,v,y,a=0,p=0;const c=[],d=t+r-1,k=n[t].x,g=n[d].x-k;for(f=t;f<t+r;++f){o=n[f];w=(o.x-k)/g*u;e=o.y;const t=0|w;if(t===b)e<v?(v=e,s=f):e>y&&(y=e,h=f),a=(p*a+o.x)/++p;else{const r=f-1;if(!i(s)&&!i(h)){const t=Math.min(s,h),i=Math.max(s,h);t!==l&&t!==r&&c.push({...n[t],x:a});i!==l&&i!==r&&c.push({...n[i],x:a})}f>0&&r!==l&&c.push(n[r]);c.push(o);b=t;p=0;v=y=e;s=h=l=f}}return c}(e,a,s,u);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`);}t._decimated=h}}})},destroy(n){ky(n)}};class ip{constructor(n){this.x=n.x;this.y=n.y;this.radius=n.radius}pathSegment(n,t,i){const{x:r,y:u,radius:f}=this;return t=t||{start:0,end:o},n.arc(r,u,f,t.end,t.start,!0),!i.bounds}interpolate(n){const{x:r,y:u,radius:i}=this,t=n.angle;return{x:r+Math.cos(t)*i,y:u+Math.sin(t)*i,angle:t}}}ep={id:"filler",afterDatasetsUpdate(n,t,i){const o=(n.data.datasets||[]).length,s=[];let e,r,f,u;for(r=0;r<o;++r)e=n.getDatasetMeta(r),f=e.dataset,u=null,f&&f.options&&f instanceof pf&&(u={visible:n.isDatasetVisible(r),index:r,fill:vd(f,r,o),chart:n,axis:e.controller.options.indexAxis,scale:e.vScale,line:f}),e.$filler=u,s.push(u);for(r=0;r<o;++r)u=s[r],u&&!1!==u.fill&&(u.fill=ad(s,r,i.propagate))},beforeDraw(n,t,i){const f="beforeDraw"===i.drawTime,r=n.getSortedVisibleDatasetMetas(),u=n.chartArea;for(let t=r.length-1;t>=0;--t){const i=r[t].$filler;i&&(i.line.updateControlPoints(u,i.axis),f&&i.fill&&ds(n.ctx,i,u))}},beforeDatasetsDraw(n,t,i){if("beforeDatasetsDraw"===i.drawTime){const r=n.getSortedVisibleDatasetMetas();for(let t=r.length-1;t>=0;--t){const i=r[t].$filler;tp(i)&&ds(n.ctx,i,n.chartArea)}}},beforeDatasetDraw(n,t,i){const r=t.meta.$filler;tp(r)&&"beforeDatasetDraw"===i.drawTime&&ds(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const op=(n,t)=>{let{boxHeight:i=e,boxWidth:r=e}=n;return n.usePointStyle&&(i=Math.min(i,t),r=n.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:i,itemHeight:Math.max(t,i)}};class sp extends ht{constructor(n){super();this._added=!1;this.legendHitBoxes=[];this._hoveredItem=null;this.doughnutMode=!1;this.chart=n.chart;this.options=n.options;this.ctx=n.ctx;this.legendItems=void 0;this.columnSizes=void 0;this.lineWidths=void 0;this.maxHeight=void 0;this.maxWidth=void 0;this.top=void 0;this.bottom=void 0;this.left=void 0;this.right=void 0;this.height=void 0;this.width=void 0;this._margins=void 0;this.position=void 0;this.weight=void 0;this.fullSize=void 0}update(n,t,i){this.maxWidth=n;this.maxHeight=t;this._margins=i;this.setDimensions();this.buildLabels();this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=u(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(n=>t.filter(n,this.chart.data)));t.sort&&(n=n.sort((n,i)=>t.sort(n,i,this.chart.data)));this.options.reverse&&n.reverse();this.legendItems=n}fit(){const{options:n,ctx:h}=this;if(!n.display)return void(this.width=this.height=0);const u=n.labels,t=a(u.font),f=t.size,e=this._computeTitleHeight(),{boxWidth:o,itemHeight:s}=op(u,f);let i,r;h.font=t.string;this.isHorizontal()?(i=this.maxWidth,r=this._fitRows(e,f,o,s)+10):(r=this.maxHeight,i=this._fitCols(e,t,o,s)+10);this.width=Math.min(i,n.maxWidth||this.maxWidth);this.height=Math.min(r,n.maxHeight||this.maxHeight)}_fitRows(n,t,i,r){const{ctx:f,maxWidth:l,options:{labels:{padding:e}}}=this,a=this.legendHitBoxes=[],u=this.lineWidths=[0],o=r+e;let s=n;f.textAlign="left";f.textBaseline="middle";let h=-1,c=-o;return this.legendItems.forEach((n,v)=>{const y=i+t/2+f.measureText(n.text).width;(0===v||u[u.length-1]+y+2*e>l)&&(s+=o,u[u.length-(v>0?0:1)]=0,c+=o,h++);a[v]={left:0,top:c,row:h,width:y,height:r};u[u.length-1]+=y+e}),s}_fitCols(n,t,i,r){const{ctx:l,maxHeight:a,options:{labels:{padding:e}}}=this,v=this.legendHitBoxes=[],s=this.columnSizes=[],y=a-n;let o=e,u=0,f=0,h=0,c=0;return this.legendItems.forEach((n,a)=>{const{itemWidth:w,itemHeight:p}=function(n,t,i,r,u){const f=function(n,t,i,r){let u=n.text;return u&&"string"!=typeof u&&(u=u.reduce((n,t)=>n.length>t.length?n:t)),t+i.size/2+r.measureText(u).width}(r,n,t,i),e=function(n,t,i){let r=n;return"string"!=typeof t.text&&(r=hp(t,i)),r}(u,r,t.lineHeight);return{itemWidth:f,itemHeight:e}}(i,t,l,n,r);a>0&&f+p+2*e>y&&(o+=u+e,s.push({width:u,height:f}),h+=u+e,c++,u=f=0);v[a]={left:h,top:f,col:c,width:w,height:p};u=Math.max(u,w);f+=p+e}),o+=u,s.push({width:u,height:f}),o}adjustHitBoxes(){if(this.options.display){const r=this._computeTitleHeight(),{legendHitBoxes:u,options:{align:t,labels:{padding:n},rtl:f}}=this,i=ci(f,this.left,this.width);if(this.isHorizontal()){let f=0,e=p(t,this.left+n,this.right-this.lineWidths[f]);for(const o of u)f!==o.row&&(f=o.row,e=p(t,this.left+n,this.right-this.lineWidths[f])),o.top+=this.top+r+n,o.left=i.leftForLtr(i.x(e),o.width),e+=o.width+n}else{let f=0,e=p(t,this.top+r+n,this.bottom-this.columnSizes[f].height);for(const o of u)o.col!==f&&(f=o.col,e=p(t,this.top+r+n,this.bottom-this.columnSizes[f].height)),o.top=e,o.left+=this.left+n,o.left=i.leftForLtr(i.x(o.left),o.width),e+=o.height+n}}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const n=this.ctx;vr(n,this);this._draw();yr(n)}}_draw(){const{options:h,columnSizes:y,lineWidths:g,ctx:t}=this,{align:c,labels:e}=h,nt=s.color,f=ci(h.rtl,this.left,this.width),l=a(e.font),{padding:r}=e,w=l.size,b=w/2;let i;this.drawTitle();t.textAlign=f.textAlign("left");t.textBaseline="middle";t.lineWidth=.5;t.font=l.string;const{boxWidth:u,boxHeight:o,itemHeight:tt}=op(e,w),v=this.isHorizontal(),k=this._computeTitleHeight();i=v?{x:p(c,this.left+r,this.right-g[0]),y:this.top+r+k,line:0}:{x:this.left+r,y:p(c,this.top+k+r,this.bottom-y[0].height),line:0};co(this.ctx,h.textDirection);const d=tt+r;this.legendItems.forEach((s,a)=>{t.strokeStyle=s.fontColor;t.fillStyle=s.fontColor;const ft=t.measureText(s.text).width,et=f.textAlign(s.textAlign||(s.textAlign=e.textAlign)),ut=u+b+ft;let it=i.x,rt=i.y;if(f.setWidth(this.width),v?a>0&&it+ut+r>this.right&&(rt=i.y+=d,i.line++,it=i.x=p(c,this.left+r,this.right-g[i.line])):a>0&&rt+d>this.bottom&&(it=i.x=it+y[i.line].width+r,i.line++,rt=i.y=p(c,this.top+k+r,this.bottom-y[i.line].height)),function(i,r,s){if(!isNaN(u)&&!(u<=0)&&!isNaN(o)&&!(o<0)){t.save();const h=n(s.lineWidth,1);if(t.fillStyle=n(s.fillStyle,nt),t.lineCap=n(s.lineCap,"butt"),t.lineDashOffset=n(s.lineDashOffset,0),t.lineJoin=n(s.lineJoin,"miter"),t.lineWidth=h,t.strokeStyle=n(s.strokeStyle,nt),t.setLineDash(n(s.lineDash,[])),e.usePointStyle){const n={radius:o*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:h},c=f.xPlus(i,u/2);uo(t,n,c,r+b,e.pointStyleWidth&&u)}else{const n=r+Math.max((w-o)/2,0),e=f.leftForLtr(i,u),c=ui(s.borderRadius);t.beginPath();Object.values(c).some(n=>0!==n)?tr(t,{x:e,y:n,w:u,h:o,radius:c}):t.rect(e,n,u,o);t.fill();0!==h&&t.stroke()}t.restore()}}(f.x(it),rt,s),it=gh(et,it+u+b,v?it+ut:this.right,h.rtl),function(n,i,r){ii(t,r.text,n,i+tt/2,l,{strikethrough:r.hidden,textAlign:f.textAlign(r.textAlign)})}(f.x(it),rt,s),v)i.x+=ut+r;else if("string"!=typeof s.text){const n=l.lineHeight;i.y+=hp(s,n)+r}else i.y+=d});lo(this.ctx,h.textDirection)}drawTitle(){const i=this.options,n=i.title,u=a(n.font),h=w(n.padding);if(n.display){const c=ci(i.rtl,this.left,this.width),t=this.ctx,o=n.position,l=u.size/2,s=h.top+l;let f,r=this.left,e=this.width;if(this.isHorizontal())e=Math.max(...this.lineWidths),f=this.top+s,r=p(i.align,r,this.right-e);else{const n=this.columnSizes.reduce((n,t)=>Math.max(n,t.height),0);f=s+p(i.align,this.top,this.bottom-n-i.labels.padding-this._computeTitleHeight())}const v=p(o,r,r+e);t.textAlign=c.textAlign(su(o));t.textBaseline="middle";t.strokeStyle=n.color;t.fillStyle=n.color;t.font=u.string;ii(t,n.text,v,f,u)}}_computeTitleHeight(){const n=this.options.title,t=a(n.font),i=w(n.padding);return n.display?t.lineHeight+i.height:0}_getLegendItemAt(n,t){let r,i,u;if(et(n,this.left,this.right)&&et(t,this.top,this.bottom))for(u=this.legendHitBoxes,r=0;r<u.length;++r)if(i=u[r],et(n,i.left,i.left+i.width)&&et(t,i.top,i.top+i.height))return this.legendItems[r];return null}handleEvent(n){const i=this.options;if(function(n,t){return("mousemove"===n||"mouseout"===n)&&(t.onHover||t.onLeave)?!0:t.onClick&&("click"===n||"mouseup"===n)?!0:!1}(n.type,i)){const t=this._getLegendItemAt(n.x,n.y);if("mousemove"===n.type||"mouseout"===n.type){const e=this._hoveredItem,o=(r=t,null!==(f=e)&&null!==r&&f.datasetIndex===r.datasetIndex&&f.index===r.index);e&&!o&&u(i.onLeave,[n,e,this],this);this._hoveredItem=t;t&&!o&&u(i.onHover,[n,t,this],this)}else t&&u(i.onClick,[n,t,this],this);var f,r}}}cp={id:"legend",_element:sp,start(n,t,i){const r=n.legend=new sp({ctx:n.ctx,options:i,chart:n});y.configure(n,r,i);y.addBox(n,r)},stop(n){y.removeBox(n,n.legend);delete n.legend},beforeUpdate(n,t,i){const r=n.legend;y.configure(n,r,i);r.options=i},afterUpdate(n){const t=n.legend;t.buildLabels();t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,i){const r=t.datasetIndex,u=i.chart;u.isDatasetVisible(r)?(u.hide(r),t.hidden=!0):(u.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:i,pointStyle:r,textAlign:u,color:f,useBorderRadius:e,borderRadius:o}}=n.legend.options;return n._getSortedDatasetMetas().map(n=>{const s=n.controller.getStyle(i?0:void 0),h=w(s.borderWidth);return{text:t[n.index].label,fillStyle:s.backgroundColor,fontColor:f,hidden:!n.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:s.borderColor,pointStyle:r||s.pointStyle,rotation:s.rotation,textAlign:u||s.textAlign,borderRadius:e&&(o||s.borderRadius),datasetIndex:n.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class gs extends ht{constructor(n){super();this.chart=n.chart;this.options=n.options;this.ctx=n.ctx;this._padding=void 0;this.top=void 0;this.bottom=void 0;this.left=void 0;this.right=void 0;this.width=void 0;this.height=void 0;this.position=void 0;this.weight=void 0;this.fullSize=void 0}update(n,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=n;this.height=this.bottom=t;const u=f(i.text)?i.text.length:1;this._padding=w(i.padding);const r=u*a(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const n=this.options.position;return"top"===n||"bottom"===n}_drawArgs(n){const{top:t,left:u,bottom:f,right:o,options:l}=this,s=l.align;let h,i,r,c=0;return this.isHorizontal()?(i=p(s,u,o),r=t+n,h=o-u):("left"===l.position?(i=u+n,r=p(s,f,t),c=-.5*e):(i=o-n,r=p(s,t,f),c=.5*e),h=f-t),{titleX:i,titleY:r,maxWidth:h,rotation:c}}draw(){const i=this.ctx,n=this.options;if(n.display){const t=a(n.font),r=t.lineHeight/2+this._padding.top,{titleX:u,titleY:f,maxWidth:e,rotation:o}=this._drawArgs(r);ii(i,n.text,0,0,t,{color:n.color,maxWidth:e,rotation:o,textAlign:su(n.align),textBaseline:"middle",translation:[u,f]})}}}lp={id:"title",_element:gs,start(n,t,i){!function(n,t){const i=new gs({ctx:n.ctx,options:t,chart:n});y.configure(n,i,t);y.addBox(n,i);n.titleBlock=i}(n,i)},stop(n){const t=n.titleBlock;y.removeBox(n,t);delete n.titleBlock},beforeUpdate(n,t,i){const r=n.titleBlock;y.configure(n,r,i);r.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gf=new WeakMap;ap={id:"subtitle",start(n,t,i){const r=new gs({ctx:n.ctx,options:i,chart:n});y.configure(n,r,i);y.addBox(n,r);gf.set(n,r)},stop(n){y.removeBox(n,gf.get(n));gf.delete(n)},beforeUpdate(n,t,i){const r=gf.get(n);y.configure(n,r,i);r.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ru={average(n){if(!n.length)return!1;let t,u,i=new Set,f=0,r=0;for(t=0,u=n.length;t<u;++t){const u=n[t].element;if(u&&u.hasValue()){const n=u.tooltipPosition();i.add(n.x);f+=n.y;++r}}return 0===r||0===i.size?!1:{x:[...i].reduce((n,t)=>n+t)/i.size,y:f/r}},nearest(n,t){if(!n.length)return!1;let i,u,r,f=t.x,e=t.y,o=Number.POSITIVE_INFINITY;for(i=0,u=n.length;i<u;++i){const u=n[i].element;if(u&&u.hasValue()){const n=eu(t,u.getCenterPoint());n<o&&(o=n,r=u)}}if(r){const n=r.tooltipPosition();f=n.x;e=n.y}return{x:f,y:e}}};const kp={beforeTitle:ft,title(n){if(n.length>0){const t=n[0],i=t.chart.data.labels,r=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return i[t.dataIndex]}return""},afterTitle:ft,beforeBody:ft,beforeLabel:ft,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const r=n.formattedValue;return i(r)||(t+=r),t},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ft,afterBody:ft,beforeFooter:ft,footer:ft,afterFooter:ft};class dp extends ht{static positioners=ru;constructor(n){super();this.opacity=0;this._active=[];this._eventPosition=void 0;this._size=void 0;this._cachedAnimations=void 0;this._tooltipItems=[];this.$animations=void 0;this.$context=void 0;this.chart=n.chart;this.options=n.options;this.dataPoints=void 0;this.title=void 0;this.beforeBody=void 0;this.body=void 0;this.afterBody=void 0;this.footer=void 0;this.xAlign=void 0;this.yAlign=void 0;this.x=void 0;this.y=void 0;this.height=void 0;this.width=void 0;this.caretX=void 0;this.caretY=void 0;this.labelColors=void 0;this.labelPointStyles=void 0;this.labelTextColors=void 0}initialize(n){this.options=n;this._cachedAnimations=void 0;this.$context=void 0}_resolveAnimations(){const n=this._cachedAnimations;if(n)return n;const u=this.chart,t=this.options.setContext(this.getContext()),i=t.enabled&&u.options.animation&&t.animations,r=new ns(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(n=this.chart.getContext(),t=this,i=this._tooltipItems,pt(n,{tooltip:t,tooltipItems:i,type:"tooltip"})));var n,t,i}getTitle(n,t){const{callbacks:r}=t,u=g(r,"beforeTitle",this,n),f=g(r,"title",this,n),e=g(r,"afterTitle",this,n);let i=[];return i=ct(i,bt(u)),i=ct(i,bt(f)),i=ct(i,bt(e)),i}getBeforeBody(n,t){return wp(g(t.callbacks,"beforeBody",this,n))}getBody(n,t){const{callbacks:u}=t,i=[];return r(n,n=>{const t={before:[],lines:[],after:[]},r=bp(u,n);ct(t.before,bt(g(r,"beforeLabel",this,n)));ct(t.lines,g(r,"label",this,n));ct(t.after,bt(g(r,"afterLabel",this,n)));i.push(t)}),i}getAfterBody(n,t){return wp(g(t.callbacks,"afterBody",this,n))}getFooter(n,t){const{callbacks:r}=t,u=g(r,"beforeFooter",this,n),f=g(r,"footer",this,n),e=g(r,"afterFooter",this,n);let i=[];return i=ct(i,bt(u)),i=ct(i,bt(f)),i=ct(i,bt(e)),i}_createItems(n){const u=this._active,f=this.chart.data,e=[],o=[],s=[];let i,h,t=[];for(i=0,h=u.length;i<h;++i)t.push(kd(this.chart,u[i]));return n.filter&&(t=t.filter((t,i,r)=>n.filter(t,i,r,f))),n.itemSort&&(t=t.sort((t,i)=>n.itemSort(t,i,f))),r(t,t=>{const i=bp(n.callbacks,t);e.push(g(i,"labelColor",this,t));o.push(g(i,"labelPointStyle",this,t));s.push(g(i,"labelTextColor",this,t))}),this.labelColors=e,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=t,t}update(n,t){const i=this.options.setContext(this.getContext()),f=this._active;let u,r=[];if(f.length){const n=ru[i.position].call(this,f,this._eventPosition);r=this._createItems(i);this.title=this.getTitle(r,i);this.beforeBody=this.getBeforeBody(r,i);this.body=this.getBody(r,i);this.afterBody=this.getAfterBody(r,i);this.footer=this.getFooter(r,i);const t=this._size=vp(this,i),o=Object.assign({},n,t),e=yp(this.chart,i,o),s=pp(i,o,e,this.chart);this.xAlign=e.xAlign;this.yAlign=e.yAlign;u={opacity:1,x:s.x,y:s.y,width:t.width,height:t.height,caretX:n.x,caretY:n.y}}else 0!==this.opacity&&(u={opacity:0});this._tooltipItems=r;this.$context=void 0;u&&this._resolveAnimations().update(this,u);n&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(n,t,i,r){const u=this.getCaretPosition(n,i,r);t.lineTo(u.x1,u.y1);t.lineTo(u.x2,u.y2);t.lineTo(u.x3,u.y3)}getCaretPosition(n,t,i){const{xAlign:l,yAlign:v}=this,{caretSize:r,cornerRadius:w}=i,{topLeft:b,topRight:k,bottomLeft:d,bottomRight:g}=ui(w),{x:s,y:a}=n,{width:y,height:p}=t;let u,f,h,e,o,c;return"center"===v?(o=a+p/2,"left"===l?(u=s,f=u-r,e=o+r,c=o-r):(u=s+y,f=u+r,e=o-r,c=o+r),h=u):(f="left"===l?s+Math.max(b,d)+r:"right"===l?s+y-Math.max(k,g)-r:this.caretX,"top"===v?(e=a,o=e-r,u=f-r,h=f+r):(e=a+p,o=e+r,u=f+r,h=f-r),c=e),{x1:u,x2:f,x3:h,y1:e,y2:o,y3:c}}drawTitle(n,t,i){const o=this.title,f=o.length;let u,e,r;if(f){const s=ci(i.rtl,this.x,this.width);for(n.x=ne(this,i.titleAlign,i),t.textAlign=s.textAlign(i.titleAlign),t.textBaseline="middle",u=a(i.titleFont),e=i.titleSpacing,t.fillStyle=i.titleColor,t.font=u.string,r=0;r<f;++r)t.fillText(o[r],s.x(n.x),n.y+u.lineHeight/2),n.y+=u.lineHeight+e,r+1===f&&(n.y+=i.titleMarginBottom-e)}}_drawColorBox(n,i,r,u,f){const e=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:s,boxWidth:o}=f,v=a(f.bodyFont),y=ne(this,"left",f),c=u.x(y),p=s<v.lineHeight?(v.lineHeight-s)/2:0,h=i.y+p;if(f.usePointStyle){const t={radius:Math.min(o,s)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},i=u.leftForLtr(c,o)+o/2,r=h+s/2;n.strokeStyle=f.multiKeyBackground;n.fillStyle=f.multiKeyBackground;gu(n,t,i,r);n.strokeStyle=e.borderColor;n.fillStyle=e.backgroundColor;gu(n,t,i,r)}else{n.lineWidth=t(e.borderWidth)?Math.max(...Object.values(e.borderWidth)):e.borderWidth||1;n.strokeStyle=e.borderColor;n.setLineDash(e.borderDash||[]);n.lineDashOffset=e.borderDashOffset||0;const i=u.leftForLtr(c,o),l=u.leftForLtr(u.xPlus(c,1),o-2),r=ui(e.borderRadius);Object.values(r).some(n=>0!==n)?(n.beginPath(),n.fillStyle=f.multiKeyBackground,tr(n,{x:i,y:h,w:o,h:s,radius:r}),n.fill(),n.stroke(),n.fillStyle=e.backgroundColor,n.beginPath(),tr(n,{x:l,y:h+1,w:o-2,h:s-2,radius:r}),n.fill()):(n.fillStyle=f.multiKeyBackground,n.fillRect(i,h,o,s),n.strokeRect(i,h,o,s),n.fillStyle=e.backgroundColor,n.fillRect(l,h+1,o-2,s-2))}n.fillStyle=this.labelTextColors[r]}drawBody(n,t,i){const{body:p}=this,{bodySpacing:w,bodyAlign:l,displayColors:b,boxHeight:rt,boxWidth:k,boxPadding:d}=i,f=a(i.bodyFont);let e=f.lineHeight,v=0;const y=ci(i.rtl,this.x,this.width),o=function(i){t.fillText(i,y.x(n.x+v),n.y+e/2);n.y+=e+w},g=y.textAlign(l);let s,nt,h,u,c,tt,it;for(t.textAlign=l,t.textBaseline="middle",t.font=f.string,n.x=ne(this,g,i),t.fillStyle=i.bodyColor,r(this.beforeBody,o),v=b&&"right"!==g?"center"===l?k/2+d:k+2+d:0,u=0,tt=p.length;u<tt;++u){for(s=p[u],nt=this.labelTextColors[u],t.fillStyle=nt,r(s.before,o),h=s.lines,b&&h.length&&(this._drawColorBox(t,n,u,y,i),e=Math.max(f.lineHeight,rt)),c=0,it=h.length;c<it;++c)o(h[c]),e=f.lineHeight;r(s.after,o)}v=0;e=f.lineHeight;r(this.afterBody,o);n.y-=w}drawFooter(n,t,i){const f=this.footer,e=f.length;let r,u;if(e){const o=ci(i.rtl,this.x,this.width);for(n.x=ne(this,i.footerAlign,i),n.y+=i.footerMarginTop,t.textAlign=o.textAlign(i.footerAlign),t.textBaseline="middle",r=a(i.footerFont),t.fillStyle=i.footerColor,t.font=r.string,u=0;u<e;++u)t.fillText(f[u],o.x(n.x),n.y+r.lineHeight/2),n.y+=r.lineHeight+i.footerSpacing}}drawBackground(n,t,i,r){const{xAlign:c,yAlign:s}=this,{x:u,y:f}=n,{width:e,height:o}=i,{topLeft:h,topRight:l,bottomLeft:a,bottomRight:v}=ui(r.cornerRadius);t.fillStyle=r.backgroundColor;t.strokeStyle=r.borderColor;t.lineWidth=r.borderWidth;t.beginPath();t.moveTo(u+h,f);"top"===s&&this.drawCaret(n,t,i,r);t.lineTo(u+e-l,f);t.quadraticCurveTo(u+e,f,u+e,f+l);"center"===s&&"right"===c&&this.drawCaret(n,t,i,r);t.lineTo(u+e,f+o-v);t.quadraticCurveTo(u+e,f+o,u+e-v,f+o);"bottom"===s&&this.drawCaret(n,t,i,r);t.lineTo(u+a,f+o);t.quadraticCurveTo(u,f+o,u,f+o-a);"center"===s&&"left"===c&&this.drawCaret(n,t,i,r);t.lineTo(u,f+h);t.quadraticCurveTo(u,f,u+h,f);t.closePath();t.fill();r.borderWidth>0&&t.stroke()}_updateAnimationTarget(n){const i=this.chart,t=this.$animations,r=t&&t.x,u=t&&t.y;if(r||u){const t=ru[n.position].call(this,this._active,this._eventPosition);if(!t)return;const o=this._size=vp(this,n),s=Object.assign({},t,this._size),f=yp(i,n,s),e=pp(n,s,f,i);r._to===e.x&&u._to===e.y||(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=o.width,this.height=o.height,this.caretX=t.x,this.caretY=t.y,this._resolveAnimations().update(this,e))}}_willRender(){return!!this.opacity}draw(n){const t=this.options.setContext(this.getContext());let i=this.opacity;if(i){this._updateAnimationTarget(t);const u={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const f=w(t.padding),e=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&e&&(n.save(),n.globalAlpha=i,this.drawBackground(r,n,u,t),co(n,t.textDirection),r.y+=f.top,this.drawTitle(r,n,t),this.drawBody(r,n,t),this.drawFooter(r,n,t),lo(n,t.textDirection),n.restore())}}getActiveElements(){return this._active||[]}setActiveElements(n,t){const r=this._active,i=n.map(({datasetIndex:t,index:n})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[n],index:n}}),u=!er(r,i),f=this._positionChanged(i,t);(u||f)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const u=this.options,f=this._active||[],r=this._getActiveElements(n,f,t,i),o=this._positionChanged(r,n),e=t||!er(r,f)||o;return e&&(this._active=r,(u.enabled||u.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,t))),e}_getActiveElements(n,t,i,r){const u=this.options;if("mouseout"===n.type)return[];if(!r)return t.filter(n=>this.chart.data.datasets[n.datasetIndex]&&void 0!==this.chart.getDatasetMeta(n.datasetIndex).controller.getParsed(n.index));const f=this.chart.getElementsAtEventForMode(n,u.mode,u,i);return u.reverse&&f.reverse(),f}_positionChanged(n,t){const{caretX:r,caretY:u,options:f}=this,i=ru[f.position].call(this,n,t);return!1!==i&&(r!==i.x||u!==i.y)}}return gp={id:"tooltip",_element:dp,positioners:ru,afterInit(n,t,i){i&&(n.tooltip=new dp({chart:n,options:i}))},beforeUpdate(n,t,i){n.tooltip&&n.tooltip.initialize(i)},reset(n,t,i){n.tooltip&&n.tooltip.initialize(i)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;t.draw(n.ctx);n.notifyPlugins("afterTooltipDraw",i)}},afterEvent(n,t){if(n.tooltip){const i=t.replay;n.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},l.register(hs,ps,wf,nh),l.helpers={...pl},l._adapters=es,l.Animation=ha,l.Animations=ns,l.animator=ut,l.controllers=it.controllers.items,l.DatasetController=wt,l.Element=ht,l.elements=wf,l.Interaction=wo,l.layouts=y,l.platforms=go,l.Scale=li,l.Ticks=nr,Object.assign(l,hs,ps,wf,nh,go),l.Chart=l,"undefined"!=typeof window&&(window.Chart=l),l});